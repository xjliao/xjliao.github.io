<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


  <meta name="google-site-verification" content="EiqhAXIfWx-Emrr55KP_eyNESxlj6jWXA4Xmac5S8sQ" />





  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="A app & golang developer guy." />



  <meta name="keywords" content="xjliao.me" />



  <link rel="alternate" href="/atom.xml" title="xjliao" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: 'UA-49849624-1'
    },
    sidebar: 'post'
  };
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?a5de7a16b42cff0e7c8add36f398ce48";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <title> xjliao </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">xjliao</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            <i class="menu-item-icon icon-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            <i class="menu-item-icon icon-categories"></i> <br />
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            About
          </a>
        </li>
      
    </ul>
  

  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2017/02/24/charles-https.html">
                Charles https
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2017-02-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Others/">Others</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>环境:</p>
<blockquote>
<p>Charles 3.10.1、OS X 10.11.4、IOS 10.2.1</p>
</blockquote>
<h2 id="1-安装证书">1.安装证书</h2><p><img src="https://ooo.0o0.ooo/2017/02/24/58b01076ac58f.png" alt="58b01076ac58f"></p>
<h2 id="2-SSL_proxy设置">2.SSL proxy设置</h2><p><img src="https://ooo.0o0.ooo/2017/02/24/58b0106b330c2.png" alt="58b0106b330c2"><br><img src="https://ooo.0o0.ooo/2017/02/24/58b0106894c82.png" alt="58b0106894c82"></p>
<p>到此为止电脑上浏览器代理设置好后，是能代理https了，但是手机端呢？下面是手机设置</p>
<h2 id="2-手机端https代理设置">2.手机端https代理设置</h2><blockquote>
<p>手机已将Charles设置为了代理</p>
</blockquote>
<p><img src="https://ooo.0o0.ooo/2017/02/24/58b010783e27c.png" alt="58b010783e27c"><br><img src="https://ooo.0o0.ooo/2017/02/24/58b0107b29ab7.png" alt="58b0107b29ab7"></p>
<p>用Safari访问<a href="http://charlesproxy.com/getssl" target="_blank" rel="external">http://charlesproxy.com/getssl</a>下载安装证书,如果没有将Charles设置为代理将无法下载安装证书。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2017/02/07/hexo-rsync.html">
                Hexo deploy rsync
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2017-02-07
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="First_step:_intall_rsync_on_your_server">First step: intall rsync on your server</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install rsync -y</div></pre></td></tr></table></figure>
<h2 id="Second_step:_set_the_configuration_file">Second step: set the configuration file</h2><p>Edit _config.yml<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">- <span class="built_in">type</span>: git</div><div class="line">  repo: git@github.com:xjliao/xjliao.github.io.git</div><div class="line">  branch: master</div><div class="line">- <span class="built_in">type</span>: rsync</div><div class="line">  host: 0.0.0.0</div><div class="line">  user: xjliao</div><div class="line">  root: /home/xjliao/blogserver/html</div><div class="line">  port: 22</div><div class="line">  delete: <span class="literal">true</span></div><div class="line">  verbose: <span class="literal">true</span></div><div class="line">  ignore_errors: <span class="literal">false</span></div></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/12/06/install-supervisor-on-centos.html">
                Install Supervisor on CentOS
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-12-06
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>CentOS default repository is very limited, and even if you install EPEL you will get old packages, in my case I needed to install Supervisor to manage my Django application, after trying to do it manually and through EPEL I ended up with the following setup.</p>
<h2 id="Install_Needed_Package">Install Needed Package</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo yum install python-setuptools</div><div class="line">sudo easy_install pip</div><div class="line">sudo pip install supervisor</div><div class="line">Setup Supervisor</div></pre></td></tr></table></figure>
<p>We’ve already installed “Supervisor” globally, but we need to create its configuration, luckily it comes with default config:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">echo_supervisord_conf &gt; supervisord.conf</div><div class="line">sudo cp supervisord.conf /etc/supervisord.conf</div><div class="line">sudo mkdir /etc/supervisord.d/</div><div class="line">sudo vim /etc/supervisord.conf</div><div class="line"></div><div class="line"></div><div class="line">:</div><div class="line">[include]</div><div class="line">files = /etc/supervisord.d/*.conf</div><div class="line">:</div></pre></td></tr></table></figure></p>
<p>Next we need to set “Supervisor” to run automatically every time you restart your machine, we need to create /etc/rc.d/init.d/supervisord with the following content:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/rc.d/init.d/supervisord</div><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># /etc/rc.d/init.d/supervisord</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># Supervisor is a client/server system that</span></div><div class="line"><span class="comment"># allows its users to monitor and control a</span></div><div class="line"><span class="comment"># number of processes on UNIX-like operating</span></div><div class="line"><span class="comment"># systems.</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># chkconfig: - 64 36</span></div><div class="line"><span class="comment"># description: Supervisor Server</span></div><div class="line"><span class="comment"># processname: supervisord</span></div><div class="line"></div><div class="line"><span class="comment"># Source init functions</span></div><div class="line">. /etc/rc.d/init.d/<span class="built_in">functions</span></div><div class="line"></div><div class="line">prog=<span class="string">"supervisord"</span></div><div class="line"></div><div class="line">prefix=<span class="string">"/usr/"</span></div><div class="line">exec_prefix=<span class="string">"<span class="variable">$&#123;prefix&#125;</span>"</span></div><div class="line">prog_bin=<span class="string">"<span class="variable">$&#123;exec_prefix&#125;</span>/bin/supervisord"</span></div><div class="line">PIDFILE=<span class="string">"/var/run/<span class="variable">$prog</span>.pid"</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">start</span></span>()</div><div class="line">&#123;</div><div class="line">       <span class="built_in">echo</span> -n $<span class="string">"Starting <span class="variable">$prog</span>: "</span></div><div class="line">       daemon <span class="variable">$prog_bin</span> --pidfile <span class="variable">$PIDFILE</span></div><div class="line">       [ <span class="_">-f</span> <span class="variable">$PIDFILE</span> ] &amp;&amp; success $<span class="string">"<span class="variable">$prog</span> startup"</span> || failure $<span class="string">"<span class="variable">$prog</span> startup"</span></div><div class="line">       <span class="built_in">echo</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">stop</span></span>()</div><div class="line">&#123;</div><div class="line">       <span class="built_in">echo</span> -n $<span class="string">"Shutting down <span class="variable">$prog</span>: "</span></div><div class="line">       [ <span class="_">-f</span> <span class="variable">$PIDFILE</span> ] &amp;&amp; killproc <span class="variable">$prog</span> || success $<span class="string">"<span class="variable">$prog</span> shutdown"</span></div><div class="line">       <span class="built_in">echo</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></div><div class="line"></div><div class="line"> start)</div><div class="line">   start</div><div class="line"> ;;</div><div class="line"></div><div class="line"> stop)</div><div class="line">   stop</div><div class="line"> ;;</div><div class="line"></div><div class="line"> status)</div><div class="line">       status <span class="variable">$prog</span></div><div class="line"> ;;</div><div class="line"></div><div class="line"> restart)</div><div class="line">   stop</div><div class="line">   start</div><div class="line"> ;;</div><div class="line"></div><div class="line"> *)</div><div class="line">   <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$0</span> &#123;start|stop|restart|status&#125;"</span></div><div class="line"> ;;</div><div class="line"></div><div class="line"><span class="keyword">esac</span></div></pre></td></tr></table></figure>
<p>Then make sure CentOS knows about it:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo chmod +x /etc/rc.d/init.d/supervisord</div><div class="line">sudo chkconfig --add supervisord</div><div class="line">sudo chkconfig supervisord on</div><div class="line">sudo service supervisord start</div></pre></td></tr></table></figure>
<h2 id="Sample_Supervisor_App">Sample Supervisor App</h2><p>Here is a sample of Django App to be controlled and monitored by Supervisor, just put it:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/supervisord.conf</div><div class="line"></div><div class="line">:</div><div class="line">[program:shadowsocks-server]</div><div class="line"><span class="built_in">command</span>=/home/xjliao/goworkspace/bin/shadowsocks-server -c /etc/shadowsocks.json</div><div class="line">autostart=<span class="literal">true</span></div><div class="line">autorestart=<span class="literal">true</span></div><div class="line"></div><div class="line">[program:nginx-blogserver]</div><div class="line"><span class="built_in">command</span>=/home/xjliao/blogserver/sbin/nginx</div><div class="line">autostart=<span class="literal">true</span></div><div class="line">autorestart=<span class="literal">true</span></div><div class="line">:</div></pre></td></tr></table></figure>
<p>from:<br><a href="https://rayed.com/wordpress/?p=1496" target="_blank" rel="external">https://rayed.com/wordpress/?p=1496</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/27/shadowsocks-golang-server.html">
                Deploy shadowsocks-goalang server
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-27
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              
                , 
              

            
              <a href="/categories/Linux/shadowsocks/">shadowsocks</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Get_golang_and_set_golang_path">Get golang and set golang path</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wget https://storage.googleapis.com/golang/go1.5.1.linux-amd64.tar.gz</div><div class="line">tar -zxvf /home/xjliao/go1.5.1.linux-amd64.tar.gz</div><div class="line">mkdir /home/xjliao/goworkspace</div><div class="line">sudo vim /etc/profile</div><div class="line">go</div></pre></td></tr></table></figure>
<p>Use go cmd to test.  </p>
<p>add<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">GOROOT=<span class="variable">$HOME</span>/go</div><div class="line">GOPATH=<span class="variable">$HOME</span>/goworkspace</div><div class="line"></div><div class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$GOROOT</span>/bin</div><div class="line"></div><div class="line"><span class="built_in">export</span> GOROOT GOPATH PATH</div></pre></td></tr></table></figure></p>
<h2 id="Get_shadowsocks-goalang">Get shadowsocks-goalang</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go get github.com/shadowsocks/shadowsocks-go/cmd/shadowsocks-server</div></pre></td></tr></table></figure>
<p>And then. We can look for a execute file at $GOPATH/bin name’s shadowsocks-server.<br>Ok. We need a configuration file to run the shadowsocks-server command.<br>So….   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/shadowsocks.json</div></pre></td></tr></table></figure>
<p>add<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"server"</span>:<span class="string">"0.0.0.0"</span>,</div><div class="line">    <span class="string">"local_address"</span>: <span class="string">"127.0.0.1"</span>,</div><div class="line">    <span class="string">"local_port"</span>:1080,</div><div class="line">    <span class="string">"port_password"</span>:&#123;</div><div class="line">        <span class="string">"8383"</span>:<span class="string">"1"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="string">"timeout"</span>:600,</div><div class="line">    <span class="string">"method"</span>:<span class="string">"aes-128-cfb"</span>,</div><div class="line">    <span class="string">"fast_open"</span>: <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Execute shadowsocks-server command. if do right steps, it will run at listener your set port and work well.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/home/xjliao/goworkspace/bin/shadowsocks-server/ -c /etc/shadowsocks.json</div></pre></td></tr></table></figure></p>
<h2 id="Make_it_autostart_when_system_start_or_reboot-">Make it autostart when system start or reboot.</h2><p>Install supervisor and edit configuration file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo yum install supervisor</div><div class="line">sudo vim /etc/supervisord.conf</div><div class="line">sudo chkconfig supervisord on</div></pre></td></tr></table></figure>
<p>Add<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[program:shadowsocks-server]</div><div class="line"><span class="built_in">command</span>=/home/xjliao/goworkspace/bin/shadowsocks-server -c /etc/shadowsocks.json</div><div class="line">autostart=<span class="literal">true</span>              ; start at supervisord start (default: <span class="literal">true</span>)</div><div class="line">autorestart=<span class="literal">true</span>            ; retstart at unexpected quit (default: <span class="literal">true</span>)</div></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/27/linux-yum-install-last-stable-version-for-nginx.html">
                Linux yum install last stable version for nginx
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-27
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              
                , 
              

            
              <a href="/categories/Linux/Nginx/">Nginx</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/yum.repos.d/nginx.repo</div></pre></td></tr></table></figure>
<p>Centos<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[nginx]</div><div class="line">name=nginx repo</div><div class="line">baseurl=http://nginx.org/packages/centos/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=0</div><div class="line">enabled=1</div></pre></td></tr></table></figure></p>
<p>RHEL<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[nginx]</div><div class="line">name=nginx repo</div><div class="line">baseurl=http://nginx.org/packages/rhel/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=0</div><div class="line">enabled=1</div></pre></td></tr></table></figure></p>
<p>from:<br><a href="http://wiki.nginx.org/Install" target="_blank" rel="external">http://wiki.nginx.org/Install</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/08/10/linux-nginx-init-script-autostart.html">
                Linux nginx autostart scripts
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-08-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              
                , 
              

            
              <a href="/categories/Linux/Nginx/">Nginx</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Should work on RHEL, Fedora, CentOS. Tested on CentOS 5.</p>
<p>Save this file as [/etc/init.d/nginx]</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># nginx - this script starts and stops the nginx daemon</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># chkconfig:   - 85 15 </span></div><div class="line"><span class="comment"># description:  Nginx is an HTTP(S) server, HTTP(S) reverse \</span></div><div class="line"><span class="comment">#               proxy and IMAP/POP3 proxy server</span></div><div class="line"><span class="comment"># processname: nginx</span></div><div class="line"><span class="comment"># config:      /etc/nginx/nginx.conf</span></div><div class="line"><span class="comment"># config:      /etc/sysconfig/nginx</span></div><div class="line"><span class="comment"># pidfile:     /var/run/nginx.pid</span></div><div class="line"> </div><div class="line"><span class="comment"># Source function library.</span></div><div class="line">. /etc/rc.d/init.d/<span class="built_in">functions</span></div><div class="line"> </div><div class="line"><span class="comment"># Source networking configuration.</span></div><div class="line">. /etc/sysconfig/network</div><div class="line"> </div><div class="line"><span class="comment"># Check that networking is up.</span></div><div class="line">[ <span class="string">"<span class="variable">$NETWORKING</span>"</span> = <span class="string">"no"</span> ] &amp;&amp; <span class="built_in">exit</span> 0</div><div class="line"></div><div class="line"><span class="comment"># Your nginx config </span></div><div class="line">nginx=<span class="string">"/usr/sbin/nginx"</span></div><div class="line">prog=$(basename <span class="variable">$nginx</span>)</div><div class="line"></div><div class="line"><span class="comment"># Your nginx config </span></div><div class="line">NGINX_CONF_FILE=<span class="string">"/etc/nginx/nginx.conf"</span></div><div class="line"> </div><div class="line">[ <span class="_">-f</span> /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</div><div class="line"> </div><div class="line">lockfile=/var/lock/subsys/nginx</div><div class="line"> </div><div class="line"><span class="function"><span class="title">make_dirs</span></span>() &#123;</div><div class="line">   <span class="comment"># make required directories</span></div><div class="line">   user=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">"configure arguments:"</span> | sed <span class="string">'s/[^*]*--user=\([^ ]*\).*/\1/g'</span> -`</div><div class="line">   <span class="keyword">if</span> [ -z <span class="string">"`grep <span class="variable">$user</span> /etc/passwd`"</span> ]; <span class="keyword">then</span></div><div class="line">       useradd -M <span class="_">-s</span> /bin/nologin <span class="variable">$user</span></div><div class="line">   <span class="keyword">fi</span></div><div class="line">   options=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">'configure arguments:'</span>`</div><div class="line">   <span class="keyword">for</span> opt <span class="keyword">in</span> <span class="variable">$options</span>; <span class="keyword">do</span></div><div class="line">       <span class="keyword">if</span> [ `<span class="built_in">echo</span> <span class="variable">$opt</span> | grep <span class="string">'.*-temp-path'</span>` ]; <span class="keyword">then</span></div><div class="line">           value=`<span class="built_in">echo</span> <span class="variable">$opt</span> | cut <span class="_">-d</span> <span class="string">"="</span> <span class="_">-f</span> 2`</div><div class="line">           <span class="keyword">if</span> [ ! <span class="_">-d</span> <span class="string">"<span class="variable">$value</span>"</span> ]; <span class="keyword">then</span></div><div class="line">               <span class="comment"># echo "creating" $value</span></div><div class="line">               mkdir -p <span class="variable">$value</span> &amp;&amp; chown -R <span class="variable">$user</span> <span class="variable">$value</span></div><div class="line">           <span class="keyword">fi</span></div><div class="line">       <span class="keyword">fi</span></div><div class="line">   <span class="keyword">done</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">start</span></span>() &#123;</div><div class="line">    [ -x <span class="variable">$nginx</span> ] || <span class="built_in">exit</span> 5</div><div class="line">    [ <span class="_">-f</span> <span class="variable">$NGINX_CONF_FILE</span> ] || <span class="built_in">exit</span> 6</div><div class="line">    make_dirs</div><div class="line">    <span class="built_in">echo</span> -n $<span class="string">"Starting <span class="variable">$prog</span>: "</span></div><div class="line">    daemon <span class="variable">$nginx</span> -c <span class="variable">$NGINX_CONF_FILE</span></div><div class="line">    retval=$?</div><div class="line">    <span class="built_in">echo</span></div><div class="line">    [ <span class="variable">$retval</span> <span class="_">-eq</span> 0 ] &amp;&amp; touch <span class="variable">$lockfile</span></div><div class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">stop</span></span>() &#123;</div><div class="line">    <span class="built_in">echo</span> -n $<span class="string">"Stopping <span class="variable">$prog</span>: "</span></div><div class="line">    killproc <span class="variable">$prog</span> -QUIT</div><div class="line">    retval=$?</div><div class="line">    <span class="built_in">echo</span></div><div class="line">    [ <span class="variable">$retval</span> <span class="_">-eq</span> 0 ] &amp;&amp; rm <span class="_">-f</span> <span class="variable">$lockfile</span></div><div class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">restart</span></span>() &#123;</div><div class="line">    configtest || <span class="built_in">return</span> $?</div><div class="line">    stop</div><div class="line">    sleep 1</div><div class="line">    start</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">reload</span></span>() &#123;</div><div class="line">    configtest || <span class="built_in">return</span> $?</div><div class="line">    <span class="built_in">echo</span> -n $<span class="string">"Reloading <span class="variable">$prog</span>: "</span></div><div class="line">    killproc <span class="variable">$nginx</span> -HUP</div><div class="line">    RETVAL=$?</div><div class="line">    <span class="built_in">echo</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">force_reload</span></span>() &#123;</div><div class="line">    restart</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">configtest</span></span>() &#123;</div><div class="line">  <span class="variable">$nginx</span> -t -c <span class="variable">$NGINX_CONF_FILE</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">rh_status</span></span>() &#123;</div><div class="line">    status <span class="variable">$prog</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">rh_status_q</span></span>() &#123;</div><div class="line">    rh_status &gt;/dev/null 2&gt;&amp;1</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></div><div class="line">    start)</div><div class="line">        rh_status_q &amp;&amp; <span class="built_in">exit</span> 0</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    stop)</div><div class="line">        rh_status_q || <span class="built_in">exit</span> 0</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    restart|configtest)</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    reload)</div><div class="line">        rh_status_q || <span class="built_in">exit</span> 7</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    force-reload)</div><div class="line">        force_reload</div><div class="line">        ;;</div><div class="line">    status)</div><div class="line">        rh_status</div><div class="line">        ;;</div><div class="line">    condrestart|try-restart)</div><div class="line">        rh_status_q || <span class="built_in">exit</span> 0</div><div class="line">            ;;</div><div class="line">    *)</div><div class="line">        <span class="built_in">echo</span> $<span class="string">"Usage: <span class="variable">$0</span> &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;"</span></div><div class="line">        <span class="built_in">exit</span> 2</div><div class="line"><span class="keyword">esac</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo chmod +x /etc/init.d/nginx</div><div class="line">sudo chkconfig --add /etc/init.d/nginx</div><div class="line">sudo chkconfig nginx on</div></pre></td></tr></table></figure>
<p>from:<br><a href="http://wiki.nginx.org/RedHatNginxInitScript" target="_blank" rel="external">http://wiki.nginx.org/RedHatNginxInitScript</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/07/09/golang-cross-complie.html">
                Golang 交叉编译
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-07-09
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Golang/">Golang</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>在此之前假设你的Golang环境已经设置好了  </p>
<p>mac 二进制包安装golang默认可以使用linux/windows/freebsd, GOARCH为amd64的交叉编译， 386需要手动添加</p>
<h2 id=""> </h2><h2 id="准备目标平台的包和工具文件">准备目标平台的包和工具文件</h2><p>以下过程不是重新编译，安装go，而是添加对其他平台的支持。</p>
<h3 id="方式一">方式一</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/go/src</div><div class="line">$ CGO_ENABLED=0 GOOS=linux GOARCH=386 ./make.bash</div><div class="line">$ CGO_ENABLED=0 GOOS=windows GOARCH=386 ./make.bash</div><div class="line">$ CGO_ENABLED=0 GOOS=freebsd GOARCH=386 ./make.bash</div></pre></td></tr></table></figure>
<blockquote>
<p>CGO_ENABLED=0 表示交叉编译禁用cgo<br>如果go文件夹是owner为root， 请使用sudo  </p>
</blockquote>
<p>如果需要提高编译速度，加入。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./make.bash --no-clean</div></pre></td></tr></table></figure></p>
<h3 id="方式二">方式二</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install --cross-compile-all go</div></pre></td></tr></table></figure>
<p>安装完成后，我们可以看到 Go的安装目录下 多了这个平台特有的几个命令行工具。</p>
<p>各平台的GOOS和GOARCH参考 </p>
<table><br><br></table>

<p>OS                   ARCH                          OS version<br>linux                386 / amd64 / arm             &gt;= Linux 2.6<br>darwin               386 / amd64                   OS X (Snow Leopard + Lion)<br>freebsd              386 / amd64                   &gt;= FreeBSD 7<br>windows              386 / amd64                   &gt;= Windows 2000</p>
<h2 id="编译成对应平台下的执行文件">编译成对应平台下的执行文件</h2><p>到源代码目录下执行:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build</div></pre></td></tr></table></figure>
<p>不带前面参数的 go build 只是编译出开发环境适用的执行文件。</p>
<h2 id="golang-crosscompile工具">golang-crosscompile工具</h2><p>下载地址<br><a href="">github.com/davecheney/golang-crosscompile</a><br>使用方法<br><a href="">http://dave.cheney.net/2012/09/08/an-introduction-to-cross-compilation-with-go</a></p>
<h3 id="下载脚本">下载脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> git://github.com/davecheney/golang-crosscompile.git</div><div class="line">$ <span class="built_in">source</span> golang-crosscompile/crosscompile.bash</div></pre></td></tr></table></figure>
<h3 id="编译支持所有平台">编译支持所有平台</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ go-crosscompile-build-all</div></pre></td></tr></table></figure>
<p>这个时间要花个几分钟</p>
<h3 id="查看平台的包">查看平台的包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls -1 $(go env GOROOT)/pkg</div></pre></td></tr></table></figure>
<h3 id="使用交叉编译">使用交叉编译</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ go-linux-arm build</div></pre></td></tr></table></figure>
<p>要不同平台的编译，替换即可, 如:go-windows-386 build </p>
<p>为方面以后使用,将下面的加入到.bashrc或.zshrc</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mkdir ~/.golang-crosscomplie</div><div class="line">$ cp golang-crosscompile/crosscompile.bash  ~./golang-crosscomplie</div><div class="line">$ <span class="built_in">source</span> ~/.zshrc</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/07/07/2015-7-07-golang-method-intreface.html">
                Golang 快速入门 方法 接口
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-07-07
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Golang/">Golang</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Golang_快速入门_方法_接口">Golang 快速入门 方法 接口</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> <span class="string">"os"</span></div><div class="line"><span class="keyword">import</span> <span class="string">"time"</span></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"image"</span></div><div class="line">	<span class="string">"io"</span></div><div class="line">	<span class="string">"log"</span></div><div class="line">	<span class="string">"math"</span></div><div class="line">	<span class="string">"net/http"</span></div><div class="line">	<span class="string">"strings"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">//--- 方法</span></div><div class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</div><div class="line">	X, Y <span class="keyword">float64</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Go 没有类。然而，仍然可以在结构体类型上定义方法。</span></div><div class="line"><span class="comment">//方法接收者 出现在 func 关键字和方法名之间的参数中。</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span> <span class="title">Abs</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">//-- 方法(续)</span></div><div class="line"><span class="comment">//你可以对包中的 任意 类型定义任意方法，而不仅仅是针对结构体。</span></div><div class="line"><span class="comment">//但是，不能对来自其他包的类型或基础类型定义方法。</span></div><div class="line"><span class="keyword">type</span> MyFloat <span class="keyword">float64</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f MyFloat)</span> <span class="title">Abs</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">float64</span>(-f)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">float64</span>(f)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// 接收者为指针的方法</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span> <span class="title">Scale</span><span class="params">(f <span class="keyword">float64</span>)</span></span> &#123;</div><div class="line">	v.X = v.X * f</div><div class="line">	v.Y = v.Y * f</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 接口</span></div><div class="line"><span class="comment">//接口类型是由一组方法定义的集合。</span></div><div class="line"><span class="comment">//接口类型的值可以存放实现这些方法的任何值。</span></div><div class="line"><span class="keyword">type</span> Abser <span class="keyword">interface</span> &#123;</div><div class="line">	Abs() <span class="keyword">float64</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 隐式接口</span></div><div class="line"><span class="comment">//类型通过实现那些方法来实现接口。 没有显式声明的必要；所以也就没有关键字“implements“。</span></div><div class="line"><span class="comment">//隐式接口解藕了实现接口的包和定义接口的包：互不依赖。</span></div><div class="line"><span class="comment">//因此，也就无需在每一个实现上增加新的接口名称，这样同时也鼓励了明确的接口定义。</span></div><div class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;</div><div class="line">	Read(b []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> &#123;</div><div class="line">	Write(b []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> ReadWriter <span class="keyword">interface</span> &#123;</div><div class="line">	Reader</div><div class="line">	Writer</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// Stringers 与java的toString()方法类似</span></div><div class="line"><span class="comment">// 在打印或format时生效</span></div><div class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</div><div class="line">	Name <span class="keyword">string</span></div><div class="line">	Age  <span class="keyword">int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">"%v (%v years)"</span>, p.Name, p.Age)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// 错误</span></div><div class="line"><span class="comment">// Go 程序使用 error 值来表示错误状态</span></div><div class="line"><span class="keyword">type</span> MyError <span class="keyword">struct</span> &#123;</div><div class="line">	When time.Time</div><div class="line">	What <span class="keyword">string</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *MyError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">"at %v, %v"</span>, e.When, e.What)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span> <span class="title">error</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> &amp;MyError&#123;</div><div class="line">		time.Now(),</div><div class="line">		<span class="string">"it didn't work"</span>,</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// Web服务器</span></div><div class="line"><span class="keyword">type</span> Hello <span class="keyword">struct</span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Hello)</span> <span class="title">ServeHTTP</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</div><div class="line">	fmt.Fprint(w, <span class="string">"Hello"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">//--&gt; 方法</span></div><div class="line">	v := &amp;Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">	fmt.Println(v.Abs())</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; 方法续</span></div><div class="line">	f := MyFloat(-math.Sqrt2)</div><div class="line">	fmt.Println(f.Abs())</div><div class="line">	<span class="comment">//--&gt; 接收者为指针的方法</span></div><div class="line">	v.Scale(<span class="number">5</span>)</div><div class="line">	fmt.Println(v, v.Abs())</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; 接口</span></div><div class="line">	<span class="keyword">var</span> a Abser</div><div class="line">	f1 := MyFloat(-math.Sqrt2)</div><div class="line">	v1 := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">	<span class="comment">// a MyFloat 实现了Abser</span></div><div class="line">	a = f1</div><div class="line">	<span class="comment">// a *Vertext 实现了Abser</span></div><div class="line">	a = &amp;v1</div><div class="line">	<span class="comment">// 下面一行，v1是一个 Vertex（而不是 *Vertex）</span></div><div class="line">	<span class="comment">// 所以没有实现 Abser。</span></div><div class="line">	<span class="comment">//a = v1</span></div><div class="line">	fmt.Println(a.Abs())</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;隐式接口</span></div><div class="line">	<span class="keyword">var</span> w Writer</div><div class="line">	w = os.Stdout</div><div class="line">	fmt.Fprintf(w, <span class="string">"Hello, writer\n"</span>)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;Stringers</span></div><div class="line">	p1 := Person&#123;<span class="string">"xjliao"</span>, <span class="number">25</span>&#125;</div><div class="line">	p2 := Person&#123;<span class="string">"lllou"</span>, <span class="number">25</span>&#125;</div><div class="line">	fmt.Println(p1, p2)</div><div class="line"></div><div class="line">	<span class="comment">// 错误</span></div><div class="line">	<span class="keyword">if</span> err := run(); err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// Readers</span></div><div class="line">	r := strings.NewReader(<span class="string">"Hello, Reader!"</span>)</div><div class="line">	br := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8</span>)</div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		n, err := r.Read(br)</div><div class="line">		fmt.Printf(<span class="string">"n = %v err = %v br=%v\n"</span>, n, err, br)</div><div class="line">		fmt.Printf(<span class="string">"br[:n] = %q\n"</span>, br[:n])</div><div class="line">		<span class="keyword">if</span> err == io.EOF &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; 图片</span></div><div class="line">	m := image.NewRGBA(image.Rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>))</div><div class="line">	fmt.Println(<span class="string">"m.Bounds="</span>, m.Bounds())</div><div class="line">	fmt.Println(m.At(<span class="number">0</span>, <span class="number">0</span>).RGBA)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; Web服务器</span></div><div class="line">	<span class="keyword">var</span> h Hello</div><div class="line">	err := http.ListenAndServe(<span class="string">"localhost:4000"</span>, h)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		log.Fatal(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/07/06/2015-7-06-golang-more-types-copy.html">
                Golang 快速入门 slice array map 函数闭包
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-07-06
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Golang/">Golang</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Golang_快速入门_slice_array_map_函数闭包">Golang 快速入门 slice array map 函数闭包</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"math"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// 结构体</span></div><div class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</div><div class="line">	X <span class="keyword">int</span></div><div class="line">	Y <span class="keyword">int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 字面结构体</span></div><div class="line"><span class="keyword">var</span> (</div><div class="line">	v1 = Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</div><div class="line">	v2 = Vertex&#123;X: <span class="number">1</span>&#125;</div><div class="line">	v3 = Vertex&#123;&#125;</div><div class="line">	p  = &amp;Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">var</span> pow = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// map</span></div><div class="line"><span class="keyword">type</span> Location <span class="keyword">struct</span> &#123;</div><div class="line">	Lat, Long <span class="keyword">float64</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">string</span>]Location</div><div class="line"></div><div class="line"><span class="comment">// 字面map</span></div><div class="line"><span class="keyword">var</span> mi = <span class="keyword">map</span>[<span class="keyword">string</span>]Location&#123;</div><div class="line">	<span class="string">"Bell Labs"</span>: &#123;<span class="number">34.34499</span>, <span class="number">-89.09492</span>&#125;,</div><div class="line">	<span class="string">"Google"</span>:    &#123;<span class="number">34.34123</span>, <span class="number">-123.34321</span>&#125;,</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 字面map(续)</span></div><div class="line"><span class="comment">// 如果顶级的类型只有类型名的话，可以在文法的元素中省略键名。</span></div><div class="line"><span class="comment">// 这里的类型名是指Location</span></div><div class="line"><span class="keyword">var</span> mj = <span class="keyword">map</span>[<span class="keyword">string</span>]Location&#123;</div><div class="line">	<span class="string">"Bell Labs"</span>: &#123;<span class="number">34.34499</span>, <span class="number">-89.09494</span>&#125;,</div><div class="line">	<span class="string">"Google"</span>:    &#123;<span class="number">34.34123</span>, <span class="number">-123.34321</span>&#125;,</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">//指针</span></div><div class="line">	i, j := <span class="number">42</span>, <span class="number">8000</span></div><div class="line"></div><div class="line">	p := &amp;i</div><div class="line">	fmt.Println(p)</div><div class="line">	*p = <span class="number">21</span></div><div class="line">	fmt.Println(i)</div><div class="line">	fmt.Println(p)</div><div class="line">	fmt.Println(&amp;i)</div><div class="line"></div><div class="line">	p = &amp;j</div><div class="line">	*p = *p / <span class="number">2</span></div><div class="line">	fmt.Println(j)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;结构体</span></div><div class="line">	fmt.Println(Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;)</div><div class="line"></div><div class="line">	<span class="comment">// 结构体字段</span></div><div class="line">	v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">	v.X = <span class="number">5</span></div><div class="line">	fmt.Println(v.X)</div><div class="line"></div><div class="line">	<span class="comment">// 结构体指针</span></div><div class="line">	q := &amp;v</div><div class="line">	q.X = <span class="number">1000</span></div><div class="line">	fmt.Println(v)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;字面结构体</span></div><div class="line">	fmt.Println(v1, p, v2, v3)</div><div class="line"></div><div class="line">	<span class="comment">// 数组</span></div><div class="line">	<span class="keyword">var</span> a [<span class="number">2</span>]<span class="keyword">string</span></div><div class="line">	a[<span class="number">0</span>] = <span class="string">"Hello"</span></div><div class="line">	a[<span class="number">1</span>] = <span class="string">"World"</span></div><div class="line">	fmt.Println(a[<span class="number">0</span>], a[<span class="number">1</span>])</div><div class="line">	fmt.Println(a)</div><div class="line"></div><div class="line">	<span class="comment">// 片</span></div><div class="line">	s := []<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</div><div class="line">	fmt.Println(<span class="string">"s=="</span>, s)</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</div><div class="line">		fmt.Printf(<span class="string">"s[%d] == %d\n"</span>, i, s[i])</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 对slice切片</span></div><div class="line">	<span class="comment">// 从下标1开始到4，但不包含4 fmt.Println("s[1:4] ==", s[1:4])</span></div><div class="line">	<span class="comment">// 省略下标从0开始到3，但不包含3</span></div><div class="line">	fmt.Println(<span class="string">"s[:3] =="</span>, s[:<span class="number">3</span>])</div><div class="line">	<span class="comment">// 省略上标 len(s)结束</span></div><div class="line">	fmt.Println(<span class="string">"s[4:] =="</span>, s[<span class="number">4</span>:])</div><div class="line">	<span class="comment">// 构造切片</span></div><div class="line">	a1 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">5</span>)</div><div class="line">	printSlice(<span class="string">"a1"</span>, a1)</div><div class="line">	b := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="number">5</span>)</div><div class="line">	printSlice(<span class="string">"b"</span>, b)</div><div class="line">	c := b[:<span class="number">2</span>]</div><div class="line">	printSlice(<span class="string">"c"</span>, c)</div><div class="line">	d := c[<span class="number">2</span>:<span class="number">5</span>]</div><div class="line">	printSlice(<span class="string">"d"</span>, d)</div><div class="line"></div><div class="line">	<span class="comment">// nil slice, slice 的零值是nil</span></div><div class="line">	<span class="comment">// 一个 nil 的 slice 的长度和容量是 0。</span></div><div class="line">	<span class="keyword">var</span> z []<span class="keyword">int</span></div><div class="line">	fmt.Println(z, <span class="built_in">len</span>(z), <span class="built_in">cap</span>(z))</div><div class="line">	<span class="keyword">if</span> z == <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(<span class="string">"nil!"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 像slice添加元素</span></div><div class="line">	z = <span class="built_in">append</span>(z, <span class="number">0</span>)</div><div class="line">	printSlice(<span class="string">"z"</span>, z)</div><div class="line"></div><div class="line">	z = <span class="built_in">append</span>(z, <span class="number">1</span>)</div><div class="line">	printSlice(<span class="string">"z"</span>, z)</div><div class="line"></div><div class="line">	z = <span class="built_in">append</span>(z, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</div><div class="line">	printSlice(<span class="string">"z"</span>, z)</div><div class="line"></div><div class="line">	<span class="comment">// range 范围</span></div><div class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> pow &#123;</div><div class="line">		fmt.Printf(<span class="string">"2**%d = %d\n"</span>, i, v)</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// range 范围续</span></div><div class="line">	pow1 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">10</span>)</div><div class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> pow1 &#123;</div><div class="line">		pow1[i] = <span class="number">1</span> &lt;&lt; <span class="keyword">uint</span>(i)</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 如果不适用_, 则value默认是rang的index值</span></div><div class="line">	<span class="keyword">for</span> _, vlaue := <span class="keyword">range</span> pow1 &#123;</div><div class="line">		fmt.Printf(<span class="string">"value=%d\n"</span>, vlaue)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;map</span></div><div class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]Location)</div><div class="line">	m[<span class="string">"Bell Labs"</span>] = Location&#123;</div><div class="line">		<span class="number">40.99922</span>, <span class="number">-73.94391</span>,</div><div class="line">	&#125;</div><div class="line">	fmt.Println(m[<span class="string">"Bell Labs"</span>])</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;字面map</span></div><div class="line">	fmt.Println(mi)</div><div class="line">	<span class="comment">//--&gt;字面map(续)</span></div><div class="line">	fmt.Println(mj)</div><div class="line">	<span class="comment">// 修改map</span></div><div class="line">	mk := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]Location)</div><div class="line">	mk[<span class="string">"liaoxinjian"</span>] = Location&#123;<span class="number">120.00</span>, <span class="number">-110.00</span>&#125;</div><div class="line">	mk[<span class="string">"loulihua"</span>] = Location&#123;<span class="number">120.00</span>, <span class="number">-110.00</span>&#125;</div><div class="line">	fmt.Println(<span class="string">"mk="</span>, mk)</div><div class="line">	<span class="comment">// 删除</span></div><div class="line">	<span class="built_in">delete</span>(mk, <span class="string">"loulihua"</span>)</div><div class="line">	fmt.Println(<span class="string">"loulihua.location"</span>, mk[<span class="string">"loulihua"</span>])</div><div class="line">	<span class="comment">// 通过双赋值检测某个键存在</span></div><div class="line">	v1, ok := m[<span class="string">"loulihua"</span>]</div><div class="line">	fmt.Println(<span class="string">"value="</span>, v1, <span class="string">" Present?"</span>, ok)</div><div class="line"></div><div class="line">	<span class="comment">// 函数值</span></div><div class="line">	hypot := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</div><div class="line">		<span class="keyword">return</span> math.Sqrt(x*x + y*y)</div><div class="line">	&#125;</div><div class="line">	fmt.Println(hypot(<span class="number">3</span>, <span class="number">4</span>))</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;函数的闭包</span></div><div class="line">	pos, neg := adder(), adder()</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</div><div class="line">		fmt.Println(</div><div class="line">			pos(i),</div><div class="line">			neg(<span class="number">-2</span>*i),</div><div class="line">		)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 函数的闭包</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">()</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	sum := <span class="number">0</span></div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">		sum += x</div><div class="line">		<span class="keyword">return</span> sum</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s <span class="keyword">string</span>, x []<span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	fmt.Printf(<span class="string">"%s len=%d cap=%d %v\n"</span>, s, <span class="built_in">len</span>(x), <span class="built_in">cap</span>(x), x)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/07/05/2015-7-05-golang-basic-package-var-constant-function-copy.html">
                Golang 快速入门 基础 包 变量 函数
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-07-05
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Golang/">Golang</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Golang_快速入门_基础_包_变量_函数">Golang 快速入门 基础 包 变量 函数</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 包</span></div><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="comment">// 导入方式1</span></div><div class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></div><div class="line"></div><div class="line"><span class="comment">// 导入方式2</span></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"math"</span></div><div class="line">	<span class="string">"math/cmplx"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// 多值返回</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(lastname <span class="keyword">string</span>, firstname <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> firstname, lastname</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 命名返回值</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">split</span><span class="params">(sum <span class="keyword">int</span>)</span> <span class="params">(x, y, sm <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	sm = sum</div><div class="line">	x = sum * <span class="number">4</span> / <span class="number">9</span></div><div class="line">	y = sum - x</div><div class="line">	<span class="keyword">return</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 变量</span></div><div class="line"><span class="keyword">var</span> c, python, java <span class="keyword">bool</span></div><div class="line"><span class="keyword">var</span> x <span class="keyword">int</span></div><div class="line"></div><div class="line"><span class="comment">// 初始化变量</span></div><div class="line"><span class="keyword">var</span> v, u <span class="keyword">int</span> = <span class="number">2</span>, <span class="number">1</span></div><div class="line"></div><div class="line"><span class="comment">// 变量组</span></div><div class="line"><span class="keyword">var</span> (</div><div class="line">	<span class="comment">// Go 基本数据类型</span></div><div class="line">	<span class="comment">// bool, string, int, int8, int16, int32, int64,</span></div><div class="line">	<span class="comment">// uint, uint8, uint16, uint32, uint64, uintptr,</span></div><div class="line">	<span class="comment">// byte(unit8的别名), rune(int32的别名，代表一个Unicode码)</span></div><div class="line">	<span class="comment">// float32, float64</span></div><div class="line">	ToBe   <span class="keyword">bool</span>       = <span class="literal">false</span></div><div class="line">	MaxInt <span class="keyword">uint64</span>     = <span class="number">1</span>&lt;&lt;<span class="number">64</span> - <span class="number">1</span></div><div class="line">	z      <span class="keyword">complex128</span> = cmplx.Sqrt(<span class="number">-5</span> + <span class="number">12i</span>)</div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// 常量(常量不能使用 := 语法定义)</span></div><div class="line"><span class="keyword">const</span> Pi = <span class="number">3.14</span></div><div class="line"></div><div class="line"><span class="comment">//-----</span></div><div class="line"><span class="comment">//数值常量(数值常量是高精度的值)</span></div><div class="line"><span class="keyword">const</span> (</div><div class="line">	Big   = <span class="number">1</span> &lt;&lt; <span class="number">100</span></div><div class="line">	Small = Big &gt;&gt; <span class="number">99</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">needInt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> x*<span class="number">10</span> + <span class="number">1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">needFloat</span><span class="params">(x <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> x * <span class="number">0.1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//-----</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">//--&gt;多值返回&amp;命名返回值</span></div><div class="line">	lastname, firstname := swap(<span class="string">"jian"</span>, <span class="string">"liaoxin"</span>)</div><div class="line">	fmt.Println(lastname, firstname)</div><div class="line">	fmt.Println(split(<span class="number">100</span>))</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;变量</span></div><div class="line">	<span class="keyword">var</span> i <span class="keyword">int</span></div><div class="line">	<span class="keyword">var</span> y <span class="keyword">int</span></div><div class="line">	fmt.Println(i, c, python, java, x, y)</div><div class="line">	fmt.Println(v, u)</div><div class="line"></div><div class="line">	<span class="comment">// 短声明变量，只能在函数内使用，函数外的必须以关键字var, func 等等开头</span></div><div class="line">	k := <span class="number">100</span></div><div class="line">	fmt.Println(k)</div><div class="line">	<span class="comment">//--&gt;Go基本数据类型</span></div><div class="line">	fmt.Println(ToBe, MaxInt, z)</div><div class="line"></div><div class="line">	<span class="comment">//零值</span></div><div class="line">	<span class="keyword">var</span> q <span class="keyword">int</span></div><div class="line">	<span class="keyword">var</span> f <span class="keyword">float64</span></div><div class="line">	<span class="keyword">var</span> w <span class="keyword">bool</span></div><div class="line">	<span class="keyword">var</span> s <span class="keyword">string</span></div><div class="line">	fmt.Printf(<span class="string">"%v %v %v %q\n"</span>, q, f, w, s)</div><div class="line"></div><div class="line">	<span class="comment">// 类型转换</span></div><div class="line">	<span class="keyword">var</span> x, g <span class="keyword">int</span> = <span class="number">3</span>, <span class="number">4</span></div><div class="line">	<span class="keyword">var</span> r <span class="keyword">float64</span> = math.Sqrt(<span class="keyword">float64</span>(x*x + g*g))</div><div class="line">	<span class="keyword">var</span> z <span class="keyword">int</span> = <span class="keyword">int</span>(r)</div><div class="line">	fmt.Println(x, g, z)</div><div class="line"></div><div class="line">	<span class="comment">// 类型推导</span></div><div class="line">	v := <span class="number">42</span></div><div class="line">	fmt.Printf(<span class="string">"v的类型是%T\n"</span>, v)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;常量</span></div><div class="line">	<span class="keyword">const</span> World = <span class="string">"世界"</span></div><div class="line">	fmt.Println(<span class="string">"你好"</span>, World)</div><div class="line">	fmt.Println(<span class="string">"原周率Pi="</span>, Pi)</div><div class="line">	<span class="keyword">const</span> Truth = <span class="literal">true</span></div><div class="line">	fmt.Println(<span class="string">"Go rules?"</span>, Truth)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;数值常量</span></div><div class="line">	fmt.Println(needInt(Small))</div><div class="line">	fmt.Println(needFloat(Small))</div><div class="line">	fmt.Println(needFloat(Big))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/07/05/2015-7-05-golang-flow-control-statements.html">
                Golang 快速入门 流程控制语句
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-07-05
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Golang/">Golang</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Golang_快速入门_流程控制语句">Golang 快速入门 流程控制语句</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"math"</span></div><div class="line">	<span class="string">"runtime"</span></div><div class="line">	<span class="string">"time"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sqrt</span><span class="params">(x <span class="keyword">float64</span>)</span> <span class="title">string</span></span> &#123;</div><div class="line">	<span class="comment">// if</span></div><div class="line">	<span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</div><div class="line">		<span class="keyword">return</span> sqrt(-x) + <span class="string">"i"</span></div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		fmt.Printf(<span class="string">"x &lt; 0"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> fmt.Sprint(math.Sqrt(x))</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// if 便捷语句</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(x, n, lim <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> v := math.Pow(x, n); v &lt; lim &#123;</div><div class="line">		<span class="keyword">return</span> v</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> lim</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">// for</span></div><div class="line">	sum := <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</div><div class="line">		sum += i</div><div class="line">	&#125;</div><div class="line">	fmt.Println(sum)</div><div class="line"></div><div class="line">	<span class="comment">// for 续</span></div><div class="line">	sumb := <span class="number">1</span></div><div class="line">	<span class="keyword">for</span> sumb &lt; <span class="number">1000</span> &#123;</div><div class="line">		sumb += sumb</div><div class="line">	&#125;</div><div class="line">	fmt.Println(sumb)</div><div class="line"></div><div class="line">	<span class="comment">// while 用for表示， 所以没有while了</span></div><div class="line">	sumc := <span class="number">1</span></div><div class="line">	<span class="keyword">for</span> sumc &lt; <span class="number">1000</span> &#123;</div><div class="line">		sumc += sumc</div><div class="line">	&#125;</div><div class="line">	fmt.Println(sumc)</div><div class="line"></div><div class="line">	<span class="comment">// 无限循环 这里先注释掉， 要不然后面无法执行</span></div><div class="line">	<span class="comment">//for &#123;</span></div><div class="line">	<span class="comment">//</span></div><div class="line">	<span class="comment">//&#125;</span></div><div class="line"></div><div class="line">	<span class="comment">//--&gt;if else</span></div><div class="line">	fmt.Println(sqrt(<span class="number">2</span>))</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;if 便捷语句</span></div><div class="line">	fmt.Println(pow(<span class="number">3</span>, <span class="number">2</span>, <span class="number">10</span>))</div><div class="line"></div><div class="line">	<span class="comment">// switch 当符合</span></div><div class="line">	<span class="comment">// fallthrough  这个关键字的作用和java的switch 不加break的</span></div><div class="line">	<span class="comment">// 执行顺序有上而下，匹配成功停止</span></div><div class="line">	fmt.Print(<span class="string">"Go runs on "</span>)</div><div class="line">	<span class="keyword">switch</span> os := runtime.GOOS; os &#123;</div><div class="line">	<span class="keyword">case</span> <span class="string">"linux"</span>:</div><div class="line">		fmt.Println(<span class="string">"Linux."</span>)</div><div class="line">	<span class="keyword">case</span> <span class="string">"darwin"</span>:</div><div class="line">		fmt.Println(<span class="string">"OS X"</span>)</div><div class="line">		<span class="comment">// 当进入这里时，使用fallthrough，还会执行defluat</span></div><div class="line">		<span class="keyword">fallthrough</span></div><div class="line">	<span class="keyword">default</span>:</div><div class="line">		<span class="comment">// freebsd, openbsd,</span></div><div class="line">		fmt.Println(<span class="string">"%s"</span>, os)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 没有条件的switch</span></div><div class="line">	<span class="comment">// 和 switch true &#123;</span></div><div class="line">	<span class="comment">//case:</span></div><div class="line">	<span class="comment">//default:</span></div><div class="line">	<span class="comment">//&#125;</span></div><div class="line">	<span class="comment">// 一样</span></div><div class="line">	t := time.Now()</div><div class="line">	<span class="keyword">switch</span> &#123;</div><div class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</div><div class="line">		fmt.Println(<span class="string">"Good morning."</span>)</div><div class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">17</span>:</div><div class="line">		fmt.Println(<span class="string">"Good afternoon."</span>)</div><div class="line">	<span class="keyword">default</span>:</div><div class="line">		fmt.Println(<span class="string">"Good evening."</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// defer 延迟函数的执行直到上层函数返回</span></div><div class="line">	<span class="comment">// 延迟调用的参数会立刻生成，但是在上层函数返回前函数都不会被调用</span></div><div class="line">	<span class="keyword">defer</span> World()</div><div class="line">	fmt.Println(<span class="string">"hello"</span>)</div><div class="line">	<span class="comment">// defer 栈</span></div><div class="line">	fmt.Println(<span class="string">"counting....."</span>)</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100</span>; i++ &#123;</div><div class="line">		<span class="keyword">defer</span> fmt.Println(i)</div><div class="line">	&#125;</div><div class="line">	fmt.Println(<span class="string">"done"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">World</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Println(<span class="string">"world"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/06/29/python-replace-string-in-dir-all-file.html">
                python 替换指定文件夹内所有文件的指定内容
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-06-29
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Python/">Python</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>code</p>
<figure class="highlight python"><figcaption><span>a.py</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> os.path</div><div class="line"></div><div class="line">old_str = <span class="string">"old_str"</span></div><div class="line">new_str = <span class="string">"new_str"</span></div><div class="line"></div><div class="line">inws = <span class="string">"/Users/xjliao/Desktop/tmep"</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_md</span><span class="params">(f)</span>:</span></div><div class="line">    hz_list = [<span class="string">'.md'</span>]</div><div class="line">    test_str = f.lower()</div><div class="line">    <span class="keyword">for</span> hz <span class="keyword">in</span> hz_list:</div><div class="line">        <span class="keyword">if</span> test_str.endswith(hz):</div><div class="line">            <span class="keyword">return</span>(<span class="keyword">True</span>)</div><div class="line"></div><div class="line">    <span class="keyword">return</span>(<span class="keyword">False</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">for</span> wroot, wdirs, wfiles <span class="keyword">in</span> os.walk(inws):</div><div class="line">        <span class="keyword">for</span> wfile <span class="keyword">in</span> wfiles:</div><div class="line">            infile = os.path.join(wroot, wfile)</div><div class="line">            <span class="keyword">if</span> is_md(infile) == <span class="keyword">False</span>:</div><div class="line">                <span class="keyword">continue</span></div><div class="line"></div><div class="line">            cnts=file(infile).read()</div><div class="line">            <span class="keyword">if</span> old_str <span class="keyword">in</span> cnts:</div><div class="line">                outfile = infile</div><div class="line">                fo = open(outfile, <span class="string">'w'</span>)</div><div class="line">                cnts_new = cnts.replace(old_str, new_str)</div><div class="line">                fo.write(cnts_new)</div><div class="line">                fo.close()</div><div class="line">                print(wfile)</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">        main()</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/06/17/golang.html">
                Golang
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-06-17
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Golang/">Golang</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>参考资料:  </p>
<blockquote>
<p>Golang 官网<br><a href="https://golang.org/" target="_blank" rel="external">英文</a>  <a href="https://go-zh.org/" target="_blank" rel="external">中文</a><br><a href="http://archive.miek.nl/projects/learninggo/index.html" target="_blank" rel="external">Learning Go</a><br><a href="http://jan.newmarch.name/go/" target="_blank" rel="external">Network programming with Go</a><br><a href="https://gobyexample.com" target="_blank" rel="external">Go by Example</a><br><a href="http://www.golang-book.com" target="_blank" rel="external">Programming in Go</a><br>国内社区<br><a href="golanghome.com">golanghome.com</a><br><a href="golangtc.com">golangtc.com</a><br>视频教程<br><a href="http://study.163.com/course/courseMain.htm?courseId=306002" target="_blank" rel="external">http://study.163.com/course/courseMain.htm?courseId=306002</a></p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/06/16/mac-vim73-update-vim74.html">
                Mac vim7.3 update to vim7.4
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-06-16
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Mac/">Mac</a>

              
              
                , 
              

            
              <a href="/categories/Mac/Vim/">Vim</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>转自:<a href="http://zhouyichu.com/vim/Vim-in-Mac.html" target="_blank" rel="external">Mac中安装Vim7.4</a></p>
<h2 id="Mac上的Vim">Mac上的Vim</h2><p>Mac本身其实是预装了Vim的，但是目前的系统中都是Vim7.3版本的，而最新的Vim已经是7.4版了，因此为了能够使用最新版的vim，必须要对Mac中的vim要么升级，要么重装。在折腾过程中，遇到了一些问题，这里记录，以鉴后人。</p>
<h2 id="可选方案">可选方案</h2><h4 id="升级原生的Vim7-3">升级原生的Vim7.3</h4><p>这种方法貌似是最”干净”的，不会引入其他任何多余的东西，对于有洁癖的人这应该是一种比较好的方案。但是，这个方案也有缺点，那就是它会覆盖原生的Vim，会改变系统的默认设置，并且一旦升级过程中出现了问题，那你就再也没有可用的vim了。另外一个问题是，以后当你系统升级的时候，很有可能你自己的vim又会被新系统的vim给覆盖，这样会比较麻烦。</p>
<h4 id="使用MacVim">使用MacVim</h4><p>这是一种比较好的方案，Vim官网上也是推荐使用这种方案的，MacVim是针对Mac系统特别定制的Vim版本，安装过程也很简单，网上一搜一大把。它功能上和vim完全一致，不会有任何的问题。要说这种方案其实已经算是一个完美的解决方案了，但是它有一点不太方便的地方，那就是不能直接在终端中使用vim，每次使用MacVim的时候都会单独开启一个窗口，有点类似于windows中的gvim。而我个人是比较习惯在终端中写代码的，因此这个方案还是不能满足我的需求。</p>
<h4 id="自己编译">自己编译</h4><p>这是一种终极的方案，但是自己编译的时候注意要手动更改默认的安装目录，不然它就会覆盖原生的vim7.3，这样就会变成第一种方案了。将vim7.4安装在其他目录，然后在.bash_profile中添加一个vim命令的别名，将其指向新安装的vim7.4的目录，而不是原生的vim7.3目录。这个方案就能在终端中直接使用vim7.4了，并且不会对原生的vim7.3又任何影响。这个方案唯一的缺点大概就是会在系统中产生两个不同版本的vim了，这也许对一些有洁癖的人是难以接受的。</p>
<p>我自己最终选择了第三套方案，也就是自己编译新版本的vim.</p>
<h4 id="重新编译">重新编译</h4><p>好了，现在让我们开始折腾吧。</p>
<p>首先上vim的官网下载vim7.4的源文件，地址是:<a href="http://www.vim.org/sources.php" target="_blank" rel="external">http://www.vim.org/sources.php</a></p>
<p>新建目录/opt/loacl，这个目录就是用来存放我们新安装的vim7.4的，你也可以建立其他的目录，这里只是一个示例。</p>
<p>进入vim的源文件目录中，在终端中运行命令:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./configure --with-features=huge --enable-pythoninterp=yes  --enable-cscope --enable-fontset --enable-perlinterp --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.6/config --prefix=/opt/<span class="built_in">local</span></div></pre></td></tr></table></figure><br>这个命令是完成对vim的一些配置选项，启用了python和ruby的支持特性，这还是比较重要的，因为vim中有些插件会使用python和ruby的，如果没有开启这些特性，有些插件是无法运行的。在这些配置命令中，最后一个—prefix=/opt/local是用来指明安装目录的，你也可以修改成你自己的目录。</p>
<p>在写配置命令的时候，需要注意的是，不能写上—enable-gui，这是开启gui特性的，但是我们是在终端环境下安装的，因此不能开启这个特性，否则会出现编译错误。</p>
<p>在终端中执行make命令.在make过程中，会出现一个错误，如下所示:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">:info:build os_unix.c:830:46: warning: declaration of <span class="string">'struct sigaltstack'</span> will not be visible outside of this <span class="keyword">function</span> [-Wvisibility]</div><div class="line">:info:build         extern int sigaltstack __ARGS((const struct sigaltstack *ss, struct sigaltstack *oss));</div><div class="line">:info:build                                                     ^</div><div class="line">:info:build ./os_unix.h:88:21: note: expanded from macro <span class="string">'__ARGS'</span></div><div class="line">:info:build <span class="comment">#  define __ARGS(x) x</span></div><div class="line">:info:build                     ^</div><div class="line">:info:build os_unix.c:830:13: error: conflicting types <span class="keyword">for</span> <span class="string">'sigaltstack'</span></div><div class="line">:info:build         extern int sigaltstack __ARGS((const struct sigaltstack *ss, struct sigaltstack *oss));</div><div class="line">:info:build                    ^</div><div class="line">:info:build /usr/include/signal.h:89:5: note: previous declaration is here</div><div class="line">:info:build int     sigaltstack(const stack_t * __restrict, stack_t * __restrict)  __DARWIN_ALIAS(sigaltstack);</div><div class="line">:info:build         ^</div><div class="line">:info:build 1 warning and 1 error generated.</div><div class="line">:info:build make[1]: *** [objects/os_unix.o] Error 1</div><div class="line">:info:build make[1]: *** Waiting <span class="keyword">for</span> unfinished <span class="built_in">jobs</span>….)</div></pre></td></tr></table></figure><br>解决方案也很简单，只需要在os_unix.h中加上#include <availabilitymacros.h>就可以了。</availabilitymacros.h></p>
<p>执行make install.执行完成之后，vim7.4就安装完成了。</p>
<p>添加vim命令的别名，在.bash_profile中添加一行alias vim=’/opt/local/bin/vim’，然后在终端中执行source ~/.bash_profile</p>
<p>好了，现在你的Mac系统已经安装好了vim7.4了，现在可以开始愉快的工作了。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/24/cordova-frame-helloworld.html">
                Cordova 初步脚手架
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Cordova/">Cordova</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="官方教程">官方教程</h2><p><a href="http://cordova.apache.org/docs/en/4.0.0/guide_platforms_ios_webview.md.html#iOS%20WebViews" target="_blank" rel="external">http://cordova.apache.org/docs/en/4.0.0/guide_platforms_ios_webview.md.html#iOS%20WebViews</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/23/cordova-remote-debug.html">
                Cordova debugging
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-23
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Cordova/">Cordova</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Cordova_debugging">Cordova debugging</h2><p>Debugging your Application</p>
<p>With the desktop browser, you can leverage the browser’s debugging tools. In a WebKit browser, you can open WebInspector to inspect the DOM and debug JavaScript. Most other browsers have an equivalent debugging tool.</p>
<p>Additional Tools</p>
<p>PhoneGap Emulator uses Ripple to emulate the PhoneGap API.<br>Ripple Emulator emulates the PhoneGap API.<br>ScreenQueri.es to preview exact device screen sizes.<br>thumbs.js is a TouchEvent polyfill.<br>PhoneGap Desktop is a mocking library for the PhoneGap API.</p>
<h2 id="Remote_Web_Inspector">Remote Web Inspector</h2><p>After you’ve developed the first stage of your application with your desktop browser, you will want to test it on a mobile device. The main hurdle with testing on a mobile device is that you will not have access to WebInspector. This is where a remote web inspector steps in.</p>
<h2 id="Safari_Remote_Debugging">Safari Remote Debugging</h2><p>If you are doing iOS PhoneGap debugging and have the Safari Develop Menu enabled, you can access the currently active session through the built-in Safari Web Inspector. To activate, go to Develop -&gt; (iPad || iPhone) Simulator (normally, the third menu item) and click the active session you want to connect to. Voila!</p>
<h2 id="Chrome_Remote_Debugging">Chrome Remote Debugging</h2><p>If you are doing Android PhoneGap debugging and have an Android 4.4 device and Chrome 30+, you can use the new WebView Debugging tools added in Android 4.4. If you are using Cordova 3.3 or higher, this is already supported, and only requires the Debuggable flag in your AndroidManifest.xml. For Cordova 3.2, you will need to enable WebView debugging using some code, or by use of a plugin.</p>
<h2 id="GapDebug">GapDebug</h2><p>A complete iOS and Android debugging experience for PhoneGap and Cordova apps, debug on both Windows and Mac platforms. Automated plug-and-go debugging with no requirement to build debug support into your app. GapDebug integrated versions of the Safari Webkit Inspector for iOS debugging and Chrome Dev Tools for Android debugging. GapDebug is maintained by Genuitec and is a always free tool.</p>
<p>Try GapDebug here.</p>
<h2 id="Weinre">Weinre</h2><p>Weinre is a remote WebInspector that will debug any browser remotely. It is not quite a full-fledged debugger, but gives you a live view of the DOM and access to the JavaScript lang:bash. Unfortunately, no breakpoints or stack traces are available, but the JavaScript lang:bash can lend clues about errors.</p>
<p>You can run Weinre locally or use debug.phonegap.com.</p>
<p>WebKit’s Remote Web Inspector</p>
<p>WebKit has the ability to connect it’s WebInspector to remote WebKit browsers, although few mobile platform support this feature.</p>
<p>BlackBerry supports Remote Web Inspector<br>iOS has unofficial support for Remote Web Inspector<br>jsHybugger</p>
<p>jsHybugger is a (commercially available) tool that lets you debug PhoneGap apps on Android using Chrome DevTools. A plugin for PhoneGap 3.x and library for PhoneGap 2.x is available. Install jsHybugger from GitHub with the following command. This adds the plugin to your PhoneGap 3.x application.</p>
<p>phonegap local plugin add <a href="https://github.com/jsHybugger/cordova-plugin-jshybugger.git" target="_blank" rel="external">https://github.com/jsHybugger/cordova-plugin-jshybugger.git</a><br>After installing and starting the app on the device, you can use Chrome DevTools on a desktop machine to debug the app.</p>
<p>Example workflow</p>
<p>phonegap create <name-of-project><br>cd <name-of-project><br>phonegap local plugin add <a href="https://github.com/jsHybugger/cordova-plugin-jshybugger.git" target="_blank" rel="external">https://github.com/jsHybugger/cordova-plugin-jshybugger.git</a><br>phonegap build android<br>phonegap run android —device<br>See the jsHybugger home page for details.</name-of-project></name-of-project></p>
<p>Additional Debugging Resources</p>
<p>JSBin</p>
<h2 id="Log_Messages">Log Messages</h2><p>When all else fails, you can always use lang:bash.log(‘…’); or alert(‘…’); to mobile web application. I know it’s not pretty, but it can help when you’re in a jam.</p>
<p>Advanced log message handling can be found on Exception Log Handling.</p>
<p>Android</p>
<p>On Android, all lang:bash.log(‘…’); messages will appear as printouts in the command-line tool logcat, which is bundled with the Android SDK and integrated into the Android Eclipse plugin.</p>
<p>BlackBerry</p>
<p>On BlackBerry, all lang:bash.log(‘…’); are printed to the BlackBerry’s Event Log. The Event Log can be accessed by pressing ALT + LGLG.</p>
<p>iOS</p>
<p>On iOS, all lang:bash.log(‘…’); are output to the Xcode Debug Area lang:bash.</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/23/safari-develop.html">
                Enable the Safari debug menu  Web Browsers
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2015-03-23
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Safari/">Safari</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Enable_the_Safari_debug_menu_Web_Browsers">Enable the Safari debug menu  Web Browsers</h2><p>While I look around Safari binary code, I found there is a hidden Debug menu. Type the following command in Terminal (while Safari is NOT running):<br> % defaults write com.apple.Safari IncludeDebugMenu 1<br>Then launch Safari, and enjoy the new Debug menu. </p>
<p>[Editor’s note: The debug menu has some useful options on it, so you may find this a very useful hack. If you ever wish to disable it again, just repeat the command with a “0” instead of a “1”.]</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/11/raspberrypi.html">
                玩 Raspberry
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2014-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Raspberry/">Raspberry</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>官网:<a href="http://www.raspberrypi.org/" target="_blank" rel="external">http://www.raspberrypi.org/</a></p>
<h2 id="安装">安装</h2><p>下载地址:<a href="http://www.raspberrypi.org/downloads/" target="_blank" rel="external">http://www.raspberrypi.org/downloads/</a><br>推荐下载RASPBIAN版本<br>zip文件下载:<a href="http://downloads.raspberrypi.org/raspbian_latest" target="_blank" rel="external">http://downloads.raspberrypi.org/raspbian_latest</a><br>种子下载:<a href="http://downloads.raspberrypi.org/" target="_blank" rel="external">http://downloads.raspberrypi.org/</a></p>
<p>需要一个大一点的内存卡(8G以上最好,分区格式为fat32)<br>假如你的内存卡电脑已被识别<br>(在mac上)</p>
<h3 id="查看设备:">查看设备:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diskutil list</div></pre></td></tr></table></figure>
<p>记住设备号,下面的例子假设查看得到的设备为:disk1  </p>
<h3 id="卸载设备">卸载设备</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diskutil unmountDisk /dev/disk1</div></pre></td></tr></table></figure>
<h3 id="刻入镜像">刻入镜像</h3><p><code>`bash
sudo dd bs=4m if=2014-09-09-wheezy-raspbian.img of=/dev/risk1(这里第disk1替换为rdisk1原始设备号,刻录速度会更快)</code></p>
<p>等一会吧 刻录完成会有提示信息</p>
<h2 id="连接">连接</h2><p>在这里首页你要得有跟网线连接上路由了,而且路由设置了dhcp </p>
<p>ssh默认开启,这里通过ssh连接上系统.<br>账号:pi   密码:raspberry</p>
<p>ip查看这里可以通过进入路由器查看dhcp列表,会有一台叫raspberrypi的机器,对应的ip就是了.这样我们就可以连接上了<br>反正不管你用啥办法,都要搞到ip</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/eclipse-codetemplate.html">
                eclipse 代码注释模板
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Eclipse/">Eclipse</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>导入或手动设置模板:Window-&gt;Preference-&gt;Java-&gt;Code Style-&gt;Code Template</p>
<p>已配置好模板<a href="http://7xi4gg.com1.z0.glb.clouddn.com/codetemplates.xml" target="_blank" rel="external">codetepmplate</a></p>
<p>自动注释快捷键:选中类,变量,方法, alt＋shift+J</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/android-button-sound.html">
                Android Button 按键音
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Android_Button_按键音">Android Button 按键音</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> SoundPool sp;<span class="comment">// 声明一个SoundPool</span></div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> music;<span class="comment">// 定义一个整型用load（）；来设置</span></div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">		<span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">		setContentView(R.layout.activity_main);</div><div class="line">		<span class="comment">// 第一个参数为同时播放数据流的最大个数，第二数据流类型，第三为声音质量</span></div><div class="line">		sp = <span class="keyword">new</span> SoundPool(<span class="number">10</span>, AudioManager.STREAM_SYSTEM, <span class="number">5</span>);</div><div class="line">		<span class="comment">//把你的声音素材放到res/raw里，第2个参数即为资源文件，第3个为音乐的优先级</span></div><div class="line">		music = sp.load(<span class="keyword">this</span>, R.raw.dot_audio, <span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">// 打点操作, 这个方法名要和xml布局文件&lt;Button&gt;属性android:onClick="dotBtnClick"一样</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dotBtnClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">		<span class="comment">// 打点声音</span></div><div class="line">		sp.play(music, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">super</span>.onStop();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/git.html">
                Git 常用命令
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Git/">Git</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="git_book">git book</h2><p><a href="http://git-scm.com/book/zh/v1" target="_blank" rel="external">http://git-scm.com/book/zh/v1</a>  </p>
<p>需求:在服务器上创建一个项目版本库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//在服务器上创建一个裸仓库</div><div class="line">git init --bare --shared project.git</div><div class="line"></div><div class="line">//初始化本地, 加入版本控制</div><div class="line">git init</div><div class="line">//添加刚刚创建的服务器地址, 使用的ssh命令, 需要在服务器上创建git账户, 推送需要输入git密码,或者将本地公钥上传到服务器git账户下的~/.ssh/authorized_keys授权文件里面,实现无密码提交</div><div class="line">git remote add origin  git@gitserver:/home/git/project.git</div><div class="line">//加入添加/修改文件</div><div class="line">git add -A</div><div class="line">//本地提交</div><div class="line">git commit -m <span class="string">'init'</span></div><div class="line">//推送到服务器</div><div class="line">git push origin master</div></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/mac-tech.html">
                Mac os 技巧
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Mac/">Mac</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="显示或隐藏文件">显示或隐藏文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">显示：defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">true</span></div><div class="line">隐藏：defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">false</span></div></pre></td></tr></table></figure>
<h2 id="禁用或启用自动生成-DS_STORE文件">禁用或启用自动生成.DS_STORE文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">禁止.DS_store生成：defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE</div><div class="line">恢复.DS_store生成：defaults delete com.apple.desktopservices DSDontWriteNetworkStores</div></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/linux-ssh-timeout.html">
                ssh连接闲置超时，被踢出， 解决方案
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="方案一：在客户端设置">方案一：在客户端设置</h2><p>在客户端电脑上编辑（需要root权限）/etc/ssh/  ssh_config，并添加如下一行:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ServerAliveInterval 60</div></pre></td></tr></table></figure><br>此后该系统里的用户连接SSH时，每60秒会发一个KeepAlive请求，避免被踢。  </p>
<h2 id="方案二：在服务器端设置">方案二：在服务器端设置</h2><p>如果有相应的权限，也可以在服务器端设置，即编辑/etc/ssh/  sshd_config，并添加：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ClientAliveInterval 300  </div><div class="line">ClientAliveCountMax 3</div></pre></td></tr></table></figure><br>按以上的配置的含义就是 SSH每5分钟秒向客户端发送一次心跳 ，连续发送3次没有收到客户端道应答，则断开客户端。系统默认是ClientAliveInterval为15，ClientAliveCountMax 为3，所以SSH会在45秒之后断开。<br>保存设置并重载配置文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo /etc/init.d/sshd restart</div></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-toast-not-show.html">
                Android toast 不显示
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>问题很简单Toast.show()不显示toast，一开始以为是UI线程问题后来检查了发现在oncreate方法里调用也不弹出toast，但其他项目能正常显示很纠结。各种方法找尽了最后定位为手机问题。后来在网友的提醒发现原来是设置里面显示通知关闭了，开启后一切正常。设置见下图</p>
<p><img src="https://ooo.0o0.ooo/2017/02/23/58adb7f132260.png" alt="toast_no_show.png"></p>
<p> 参考资料:<a href="http://blog.sina.com.cn/s/blog_783ede030101hj4r.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_783ede030101hj4r.html</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-error1.html">
                No resource found that matches the given name '@style/Theme.AppCompat.Light'
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>what are the steps for that? where is AppCompat located?<br>To download</p>
<p><a href="http://developer.android.com/tools/support-library/setup.html" target="_blank" rel="external">http://developer.android.com/tools/support-library/setup.html</a></p>
<p>If use eclipse</p>
<p>Goto windows android sdk manager. Under extras check Android Support Library and click install.<br><img src="https://ooo.0o0.ooo/2017/02/23/58adb8b4a377f.png" alt="vghlq.png"><br>enter image description here</p>
<p>After that the AppCompat Can be found at</p>
<p>android-sdk/extras/android/support/v7/appcompat<br>You need to reference this AppCompat in your android project.</p>
<p>Import the library to eclipse.</p>
<p>Right click on your android project. Goto Properties. goto andorid. Click Add Library and reference the same.</p>
<p>Clean and Rebuild your project</p>
<p>解决方案:<br><a href="http://stackoverflow.com/questions/21059612/no-resource-found-that-matches-the-given-name-style-theme-appcompat-light" target="_blank" rel="external">http://stackoverflow.com/questions/21059612/no-resource-found-that-matches-the-given-name-style-theme-appcompat-light</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/linux-wget-jdk.html">
                linux 命令行下载jdk
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget --no-cookies --no-check-certificate --header <span class="string">"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie"</span> <span class="string">"http://download.oracle.com/otn-pub/java/jdk/7u71-b14/jdk-7u71-linux-x64.rpm"</span></div></pre></td></tr></table></figure>
<p>……jdk/7u71-b14/jdk-7u71-linux-x64.rpm这段地址需要根据自己的版本设置</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/linux-vpn-1.html">
                vpn 国内外智能分流
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="chnroutes">chnroutes</h1><p>利用来自<a href="http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest" target="_blank" rel="external">APNIC</a>的数据生成路由命令脚本，让VPN客户端在连接时自动执行。通过这些路由脚本，可以让用户在使用VPN作为默认网关时，不使用VPN访问中国国内IP，从而减轻VPN负担，并提高访问国内网站的速度。</p>
<h2 id="基本约定">基本约定</h2><p>在使用这些脚本之前，请确保你在自己的电脑上已经成功配置好一个VPN（PPTP或OpenVPN），并且让之以默认网关的方式运行（通常是默认配置），即VPN连接之后所有网络流量都通过VPN。</p>
<h3 id="注意事项">注意事项</h3><ul>
<li>因为这些IP数据不是固定不变的，建议每隔一个月更新一次；</li>
<li>使用此法之后，可能导致Google Music等服务无法访问，因为连上VPN之后，使用的DNS也是国外的，因此google.cn解析出的是国外的IP。</li>
</ul>
<h2 id="OpenVPN">OpenVPN</h2><p>如安装有<code>iproute2</code>软件包，请尽量使用此方式。自带方式在路由表条目较多时执行极慢。</p>
<h3 id="iproute2">iproute2</h3><ol>
<li>执行<code>python chnroutes.py</code>，这将生成<code>vpn-up.sh</code>和<code>vpn-down.sh</code>两个文件；</li>
<li>将这两个文件移入<code>/etc/openvpn/</code>；</li>
<li><p>在OpenVPN配置文件中加入：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">script-security 2</div><div class="line">up vpn-up.sh</div><div class="line">down vpn-down.sh</div></pre></td></tr></table></figure>
</li>
<li><p>重新连接VPN，观察日志测试。</p>
</li>
</ol>
<h3 id="自带方式">自带方式</h3><ol>
<li>执行<code>python chnroutes.py -p old</code>, 这将生成<code>routes.txt</code>文本文件；</li>
<li>将该文件内容加在OpenVPN配置文件的尾部；</li>
<li>重新连接VPN，观察日志测试。</li>
</ol>
<h2 id="PPTP">PPTP</h2><h3 id="Mac_OS_X">Mac OS X</h3><ol>
<li>在终端中执行<code>python chnroutes.py -p mac</code>，这将生成<code>ip-up</code>和<code>ip-down</code>两个文件；</li>
<li>将这两个文件移入<code>/etc/ppp/</code>；</li>
<li>重新连接VPN，观察测试。</li>
</ol>
<h3 id="Linux">Linux</h3><ol>
<li>执行<code>python chnroutes.py -p linux</code>，这将生成<code>ip-pre-up</code>和<code>ip-down</code>两个文件；</li>
<li>将<code>ip-pre-up</code>移入<code>/etc/ppp/</code>，<code>ip-down</code>移入<code>/etc/ppp/ip-down.d/</code>；</li>
<li>重新连接VPN，观察测试。</li>
</ol>
<h3 id="Windows">Windows</h3><ol>
<li>在命令提示符中执行<code>python chnroutes.py -p win</code>，这将生成<code>vpnup.bat</code>和<code>vpndown.bat</code>两个文件；</li>
<li>在拨号前手动执行<code>vpnup.bat</code>文件设置路由表；在断开VPN后，可运行<code>vpndown.bat</code>清理路由表。</li>
</ol>
<h2 id="基于Linux的第三方系统的路由器">基于Linux的第三方系统的路由器</h2><p>一些基于Linux系统的第三方路由器系统如OpenWRT、DD-WRT、Tomato都带有VPN（PPTP/OpenVPN）客户端的，也就是说，我们只需要在路由器进行VPN拨号，并利用本项目提供的路由表脚本就可以把VPN针对性翻墙扩展到整个局域网。当然，使用这个方式也是会带来副作用，即局域网的任何机器都不适合使用Emule或者BT等P2P下载软件。但对于那些不使用P2P，希望在路由器上设置针对性翻墙的用户，这方法十分有用，因为只需要一个VPN帐号，局域网内的所有机器，包括使用Wi-Fi的手机都能自动翻墙。详细配置方式请参考<a href="http://code.google.com/p/autoddvpn/" target="_blank" rel="external">Autoddvpn</a>项目。</p>
<h2 id="信息反馈">信息反馈</h2><p>本项目的脚本都是在使用路由器进行拨号的情况下测试通过的，如果在其它拨号方式下，脚本不能运作，请添加新的Issue。另外，在配合OpenVPN使用的时候，可能会出现因为网络质量不好，OpenVPN非主动断开，这时候<code>vpn-down.sh</code>脚本也会被自动调用，但重新连上之后，可能会找不到默认路由而添加失败，这时候你可以通过停止OpenVPN，并手动设置好原来的默认路由再重新进行OpenVPN拨号。</p>
<p>参考github开源项目:<a href="https://github.com/jimmyxu/chnroutes" target="_blank" rel="external">https://github.com/jimmyxu/chnroutes</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-error2.html">
                The Import android.support.v7 cannot be resolved
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>I tried the answer described here but it doesn´t worked for me. I have the last Android SDK tools ver. 23.0.2 and Android SDK Platform-tools ver. 20</p>
<p>The support library android-support-v4.jar cause this conflict, just delete the library under /libs folder of your project, don´t be scared, the library is already contained in the library appcompat_v7, clean and build your project, and your project will work like a charm!</p>
<p>详见资料:<br><a href="http://stackoverflow.com/questions/24998368/the-import-android-support-v7-cannot-be-resolved" target="_blank" rel="external">http://stackoverflow.com/questions/24998368/the-import-android-support-v7-cannot-be-resolved</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-imageview-q1.html">
                Android中 ImageView 顶部,底部出现一段空白区间, 不填充
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>1、在XML文件中设置：  </p>
<pre><code><span class="label">android:</span>adjustViewBounds=<span class="string">"true"</span>  
</code></pre><p>2、在Java代码中进行设置：  </p>
<pre><code>mImageView.setAdjustViewBounds<span class="params">(<span class="literal">true</span>)</span>;
</code></pre>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-issue-Failed-to-initialize-Monitor-Thread.html">
                Failed to initialize Monitor Thread: Unable to establish loopback connection
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Failed_to_initialize_Monitor_Thread:_Unable_to_establish_loopback_connection">Failed to initialize Monitor Thread: Unable to establish loopback connection</h2><p>出现以下问题：<br>eclipse弹出框错误或者lang:bash报错信息如下:  </p>
<p>Failed to initialize Monitor Thread: Unable to establish loopback connection  </p>
<p>使用命令:adb devices  </p>
<ul>
<li>daemon not running. starting it now on port 5037 *<br>ADB server didn’t ACK  </li>
<li>failed to start daemon *<br>error: cannot connect to dae  </li>
</ul>
<h2 id="解决方案：">解决方案：</h2><p>关闭防火墙</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  
  <div class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/avatar.png" alt="xjliao" />
          <p class="site-author-name">xjliao</p>
        </div>
        <p class="site-description motion-element">A app & golang developer guy.</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">49</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">28</span>
              <span class="site-state-item-name">categories</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">24</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/xjliao" target="_blank">GitHub</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="https://twitter.com/lxj12323" target="_blank">Twitter</a>
            </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp;  2013 - 
  2017
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">xjliao</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  
  

  




  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
