<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


  <meta name="google-site-verification" content="EiqhAXIfWx-Emrr55KP_eyNESxlj6jWXA4Xmac5S8sQ" />





  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="A app & golang developer guy." />



  <meta name="keywords" content="xjliao.me" />



  <link rel="alternate" href="/atom.xml" title="xjliao" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    analytics: {
      google: 'UA-49849624-1'
    },
    sidebar: 'post'
  };
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?a5de7a16b42cff0e7c8add36f398ce48";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <title> xjliao </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">xjliao</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            <i class="menu-item-icon icon-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            <i class="menu-item-icon icon-categories"></i> <br />
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            <i class="menu-item-icon icon-about"></i> <br />
            About
          </a>
        </li>
      
    </ul>
  

  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/oc-perform-nsmethodsignature-nsinvocation.html">
                Objective-c NSMethodSignature NSInvocation
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Objective-c/">Objective-c</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>给某个对象发送消息后者说调用某个对象的方法<br>有两种方式:</p>
<h2 id="第一种方式">第一种方式</h2><p>delay表示多少秒后执行</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)performSelector:(SEL)aSelector withObject:(<span class="keyword">id</span>)anArgument afterDelay:(<span class="built_in">NSTimeInterval</span>)delay;</span><br></pre></td></tr></table></figure> 
<h2 id="第二种方式:">第二种方式:</h2><p>NSMethodSignature  NSInvocation</p>
<p>实现的第一种方式的delay，需要配合下面使用<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSTimer</span> *)timerWithTimeInterval:(<span class="built_in">NSTimeInterval</span>)ti invocation:(<span class="built_in">NSInvocation</span> *)invocation repeats:(<span class="built_in">BOOL</span>)yesOrNo;</span><br></pre></td></tr></table></figure> </p>
<h2 id="demo">demo</h2><p>10秒后执行<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">SEL mySelector = <span class="keyword">@selector</span>(postRequest);</span><br><span class="line"><span class="comment">// 第一种方式</span></span><br><span class="line">[<span class="keyword">self</span> performSelector:mySelector withObject:<span class="keyword">self</span> afterDelay:<span class="number">10</span>];</span><br><span class="line"><span class="comment">// 第二种方式</span></span><br><span class="line"><span class="comment">// 需要调用方法所在class</span></span><br><span class="line"><span class="built_in">NSMethodSignature</span> *sig = [[InvokeMethodClass class] instanceMethodSignatureForSelector:mySelector];</span><br><span class="line"><span class="built_in">NSInvocation</span> *iv = [<span class="built_in">NSInvocation</span> invocationWithMethodSignature:sig];</span><br><span class="line">[iv setSelector:mySelector];</span><br><span class="line"><span class="comment">// 需要调用方法所在的target</span></span><br><span class="line">[iv setTarget:<span class="keyword">self</span>];</span><br><span class="line"><span class="comment">//  timerWithTimeInterval:多少秒后出发 repeats:是否重复执行 </span></span><br><span class="line"><span class="comment">// 如果不适用定时器， 则需要[iv invoke];</span></span><br><span class="line">[<span class="built_in">NSTimer</span> timerWithTimeInterval:<span class="number">10</span> invocation:iv repeats:<span class="literal">NO</span>];</span><br><span class="line">    </span><br><span class="line">- (<span class="keyword">void</span>)postRequest &#123;</span><br><span class="line">	<span class="comment">// Do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/xcode-projects-target.html">
                xcode workspace project target scheme
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Xcode/">Xcode</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h3 id="Workspace">Workspace</h3><ul>
<li>Contains one or more projects. These projects usually relate to one another</li>
</ul>
<h3 id="Project">Project</h3><ul>
<li>Contains code and resources, etc. (You’ll be used to these!)</li>
</ul>
<h3 id="Target">Target</h3><ul>
<li>Each project has one or more targets.    </li>
<li>Each target defines a list of build settings for that project  </li>
<li>Each target also defines a list of classes, resources, custom scripts etc to include/ use when building.  </li>
<li>Targets are usually used for different distributions of the same project.  <ul>
<li>For example, my project has two targets, a “normal” build and an “office” build that has extra testing features and may contain several background music tracks and a button to change the track (as it currently does).  </li>
<li>You’ll be used to adding classes and resources to your default target as you add them.  </li>
<li>You can pick and choose which classes / resources are added to which target.  </li>
<li>In my example, I have a “DebugHandler” class that is added to my office build  </li>
<li>If you add tests, this also adds a new target.  </li>
</ul>
</li>
</ul>
<h3 id="Scheme">Scheme</h3><ul>
<li>A scheme defines what happens when you press “Build”, “Test”, “Profile”, etc.  </li>
<li>Usually, each target has at least one scheme  </li>
<li>You can autocreate schemes for your targets by going to Scheme &gt; Manage Schemes and pressing “Autocreate Schemes Now”  </li>
</ul>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/oc-delegate.html">
                Objective-c delegate
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Objective-c/">Objective-c</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h3 id="What_Is_Delegate?">What Is Delegate?</h3><p>参考资料:<br><a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/DevPedia-CocoaCore/Delegation.html" target="_blank" rel="external">https://developer.apple.com/library/ios/documentation/General/Conceptual/DevPedia-CocoaCore/Delegation.html</a>  </p>
<p>delegate中文叫做委托,通俗点讲就是一些事件处理”委托”给别人去完成.</p>
<p>实现步骤:<br>通常，一个delegate的使用过程，需要经过五步：</p>
<ol>
<li><p>创建一个 delegate；<strong><em>(下面的例子:BIDVCAViewControllerDelegate)</em></strong></p>
</li>
<li><p>委托者声明一个delegate；<strong><em>(BIDVCBViewController)</em></strong></p>
</li>
<li><p>委托者调用delegate内的方法（method）；<strong><em>(BIDVCBViewController)</em></strong></p>
</li>
<li><p>被委托者设置delegate，以便被委托者调用；<strong><em>(BIDVCAViewController)</em></strong></p>
</li>
<li><p>被委托者实现Delegate 所定义的方法。<strong><em>(BIDVCAViewController)</em></strong></p>
</li>
</ol>
<p>下面举个例子<br>从A页面PUSH进入B页面,然后在B修改A页面的值</p>
<p>AppDelegate程序入口 主要方法<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.window</span> = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[[<span class="built_in">UIScreen</span> mainScreen] bounds]];</span><br><span class="line">    <span class="comment">// Override point for customization after application launch.</span></span><br><span class="line">    BIDV<span class="built_in">CAViewController</span> *vca = [[BIDV<span class="built_in">CAViewController</span> alloc] init];</span><br><span class="line">    <span class="built_in">UINavigationController</span> *nav = [[<span class="built_in">UINavigationController</span> alloc] initWithRootViewController:vca];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.window</span><span class="variable">.rootViewController</span> = nav;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.window</span><span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.window</span> makeKeyAndVisible];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们自定义的delegate:<br>BIDVCAViewControllerDelegate.h  </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  BIDVCBViewControllerDelegate.h</span></span><br><span class="line"><span class="comment">//  DelegatePro</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-25.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">BIDVCAViewControllerDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@required</span></span><br><span class="line">- (<span class="keyword">void</span>)setNameLableText:(<span class="built_in">NSString</span> *)text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>A页面<br>BIDVCAViewController.h</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  BIDVCAViewController.h</span></span><br><span class="line"><span class="comment">//  DelegatePro</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-25.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCAViewControllerDelegate.h"</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">BIDVCAViewController</span> : <span class="title">UIViewController</span> &lt;<span class="title">BIDVCAViewControllerDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *pushBBtn;</span><br><span class="line"><span class="keyword">@property</span> (retain, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UILabel</span> *nameLabel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>A页面<br>BIDVCAViewController.m</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  BIDVCAViewController.m</span></span><br><span class="line"><span class="comment">//  DelegatePro</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-25.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCAViewController.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCBViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">BIDVCAViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">BIDVCAViewController</span></span></span><br><span class="line">&#123;</span><br><span class="line">    BIDVCBViewController *_vcb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="comment">// Custom initialization</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.title</span> = <span class="string">@"VCA"</span>;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.pushBBtn</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(pushBBtnPressed:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view from its nib.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)pushBBtnPressed:(<span class="built_in">UIButton</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    _vcb = [[BIDVCBViewController alloc] init];</span><br><span class="line">    _vcb<span class="variable">.delegate</span> = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.navigationController</span> pushViewController:_vcb animated:<span class="literal">YES</span>];</span><br><span class="line">    [_vcb release];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)dealloc</span><br><span class="line">&#123;</span><br><span class="line">    [_nameLabel release];</span><br><span class="line">    [_vcb release];</span><br><span class="line">    [<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setNameLableText:(<span class="built_in">NSString</span> *)text;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"9009090=====%@"</span>, text);</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.nameLabel</span><span class="variable">.text</span> = text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>B页面<br>BIDVCBViewController.h</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  BIDVCBViewController.h</span></span><br><span class="line"><span class="comment">//  DelegatePro</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-25.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCAViewControllerDelegate.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">BIDVCAViewController</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">BIDVCBViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (retain, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *setV<span class="built_in">CANameLabelBtn</span>;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>, <span class="keyword">nonatomic</span>) <span class="keyword">id</span>&lt;BIDV<span class="built_in">CAViewControllerDelegate</span>&gt; delegate;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)setV<span class="built_in">CANameLabelBtnPressed</span>:(<span class="keyword">id</span>)sender;</span><br><span class="line">- (<span class="keyword">IBAction</span>)backBtnPressed:(<span class="built_in">UIButton</span> *)sender;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>B页面<br>BIDVCBViewController.m</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  BIDVCBViewController.m</span></span><br><span class="line"><span class="comment">//  DelegatePro</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-25.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCBViewController.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCAViewController.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"BIDVCAViewControllerDelegate.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">BIDVCBViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">BIDVCBViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="comment">// Custom initialization</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.title</span> = <span class="string">@"VCB"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)backBtnPressed:(<span class="built_in">UIButton</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.navigationController</span> popViewControllerAnimated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)dealloc</span><br><span class="line">&#123;</span><br><span class="line">    [_setV<span class="built_in">CANameLabelBtn</span> release];</span><br><span class="line">    [<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)setV<span class="built_in">CANameLabelBtnPressed</span>:(<span class="keyword">id</span>)sender</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.delegate</span> setNameLableText:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%li"</span>, random()]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>xib文件就就不贴了</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/mac-tech.html">
                Mac os 技巧
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Mac/">Mac</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="显示或隐藏文件">显示或隐藏文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">显示：defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">true</span></span><br><span class="line">隐藏：defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h2 id="禁用或启用自动生成-DS_STORE文件">禁用或启用自动生成.DS_STORE文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">禁止.DS_store生成：defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE</span><br><span class="line">恢复.DS_store生成：defaults delete com.apple.desktopservices DSDontWriteNetworkStores</span><br></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/git.html">
                Git 常用命令
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Git/">Git</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="git_book">git book</h2><p><a href="http://git-scm.com/book/zh/v1" target="_blank" rel="external">http://git-scm.com/book/zh/v1</a>  </p>
<p>需求:在服务器上创建一个项目版本库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//在服务器上创建一个裸仓库</span><br><span class="line">git init --bare --shared project.git</span><br><span class="line"></span><br><span class="line">//初始化本地, 加入版本控制</span><br><span class="line">git init</span><br><span class="line">//添加刚刚创建的服务器地址, 使用的ssh命令, 需要在服务器上创建git账户, 推送需要输入git密码,或者将本地公钥上传到服务器git账户下的~/.ssh/authorized_keys授权文件里面,实现无密码提交</span><br><span class="line">git remote add origin  git@gitserver:/home/git/project.git</span><br><span class="line">//加入添加/修改文件</span><br><span class="line">git add -A</span><br><span class="line">//本地提交</span><br><span class="line">git commit -m <span class="string">'init'</span></span><br><span class="line">//推送到服务器</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/eclipse-codetemplate.html">
                eclipse 代码注释模板
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Eclipse/">Eclipse</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>导入或手动设置模板:Window-&gt;Preference-&gt;Java-&gt;Code Style-&gt;Code Template</p>
<p>已配置好模板<a href="http://7xi4gg.com1.z0.glb.clouddn.com/codetemplates.xml" target="_blank" rel="external">codetepmplate</a></p>
<p>自动注释快捷键:选中类,变量,方法, alt＋shift+J</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/android-button-sound.html">
                Android Button 按键音
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Android_Button_按键音">Android Button 按键音</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> SoundPool sp;<span class="comment">// 声明一个SoundPool</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> music;<span class="comment">// 定义一个整型用load（）；来设置</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">		setContentView(R.layout.activity_main);</span><br><span class="line">		<span class="comment">// 第一个参数为同时播放数据流的最大个数，第二数据流类型，第三为声音质量</span></span><br><span class="line">		sp = <span class="keyword">new</span> SoundPool(<span class="number">10</span>, AudioManager.STREAM_SYSTEM, <span class="number">5</span>);</span><br><span class="line">		<span class="comment">//把你的声音素材放到res/raw里，第2个参数即为资源文件，第3个为音乐的优先级</span></span><br><span class="line">		music = sp.load(<span class="keyword">this</span>, R.raw.dot_audio, <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 打点操作, 这个方法名要和xml布局文件&lt;Button&gt;属性android:onClick="dotBtnClick"一样</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dotBtnClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 打点声音</span></span><br><span class="line">		sp.play(music, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.onStop();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/11/oc-kvc-kvo.html">
                Objective-c kvc kvo
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Objective-c/">Objective-c</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h3 id="What_Is_Key-Value_Coding?">What Is Key-Value Coding?</h3><p>Key-value coding(简称kvc) 是一种间接访问对象属性机制,<br>而不是通过一个存取方法的调用，或通过实例变量直接访问它们。从本质上讲kvc定义的模式和方法签名您的应用程序的访问方法来实现.<br>主要要使用的方法:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置值,key为当前对象某个变量的字符串名称</span></span><br><span class="line">- (<span class="keyword">void</span>)setValue:(<span class="keyword">id</span>)value forKey:(<span class="built_in">NSString</span> *)key;</span><br><span class="line"><span class="comment">//获取值</span></span><br><span class="line">- (<span class="keyword">id</span>)valueForKey:(<span class="built_in">NSString</span> *)key;</span><br><span class="line"><span class="comment">//和setValue:forKey:的主要区别是可以使用.语法</span></span><br><span class="line"><span class="comment">//[object setValue:@"admin" forKeyPath:@"stu.name"];</span></span><br><span class="line">- (<span class="keyword">void</span>)setValue:(<span class="keyword">id</span>)value forKeyPath:(<span class="built_in">NSString</span> *)keyPath;</span><br><span class="line">- (<span class="keyword">id</span>)valueForKeyPath:(<span class="built_in">NSString</span> *)keyPath;</span><br></pre></td></tr></table></figure>  </p>
<h3 id="example:">example:</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In a storyboard-based application, you will often want to do a little preparation before navigation</span></span><br><span class="line">- (<span class="keyword">void</span>)prepareForSegue:(<span class="built_in">UIStoryboardSegue</span> *)segue sender:(<span class="keyword">id</span>)sender</span><br><span class="line">&#123;</span><br><span class="line">    XYZAddToDoItemViewController *d = (XYZAddToDoItemViewController *)segue<span class="variable">.destinationViewController</span>;</span><br><span class="line">    Student *stu = [[Student alloc] init];</span><br><span class="line">    stu<span class="variable">.name</span> = <span class="string">@"admin"</span>;</span><br><span class="line">    stu<span class="variable">.age</span> = <span class="string">@"25"</span>;</span><br><span class="line">    [d setValue:<span class="keyword">self</span><span class="variable">.stu</span> forKey:<span class="string">@"stu"</span>];    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面通过setValue:forKeyPath设置stu的相关属性<br>作用和上面的是一样得</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In a storyboard-based application, you will often want to do a little preparation before navigation</span></span><br><span class="line">- (<span class="keyword">void</span>)prepareForSegue:(<span class="built_in">UIStoryboardSegue</span> *)segue sender:(<span class="keyword">id</span>)sender</span><br><span class="line">&#123;</span><br><span class="line">    XYZAddToDoItemViewController *d = (XYZAddToDoItemViewController *)segue<span class="variable">.destinationViewController</span>;</span><br><span class="line">    Student *stu = [[Student alloc] init];</span><br><span class="line">    [d setValue:<span class="string">@"xjl"</span> forKeyPath:<span class="string">@"stu.name"</span>];    </span><br><span class="line">    [d setValue:<span class="string">@"25"</span> forKeyPath:<span class="string">@"stu.age"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更多参考资料<br><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/KeyValueCoding/Articles/KeyValueCoding.html#//apple_ref/doc/uid10000107-SW1" target="_blank" rel="external">https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/  KeyValueCoding/Articles/KeyValueCoding.html#//apple_ref/doc/uid/  10000107-SW1</a></p>
<h3 id="What_Is_Key-Value_Observing?">What Is Key-Value Observing?</h3><p>KVO,即：Key-Value Observing，它提供一种机制，当指定的对象的属性被修改后，则对象就会接受到通知。简单的说就是每次指定的被观察的对象的属性被修改后，KVO就会自动通知相应的观察者了。</p>
<p>KVO其实也是“观察者”设计模式的一种应用。我的看法是，这种模式有利于两个类间的解耦合，尤其是对于 业务逻辑与视图控制 这两个功能的解耦合。</p>
<p>demo<br>BIDStudent.h<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  BIDStudent.h</span></span><br><span class="line"><span class="comment">//  ToDoList</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-22.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Student</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *age;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *oldName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>Student.m<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Student.m</span></span><br><span class="line"><span class="comment">//  ToDoList</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-22.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">"Student.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Student</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"student.name=%@, student.age=%@"</span>, <span class="keyword">self</span><span class="variable">.name</span>, <span class="keyword">self</span><span class="variable">.age</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果这里重写了这2个方法,在观察这里面就没法获取到通知了,会直接调用这两个方法</span></span><br><span class="line"><span class="comment">//- (void)willChangeValueForKey:(NSString *)key</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    NSLog(@"willChangeValueForKey");</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//- (void)didChangeValueForKey:(NSString *)key</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    NSLog(@"didChangeValueForKey");</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>观察者类:XYZAddToDoItemViewController.h</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  XYZAddToDoItemViewController.h</span></span><br><span class="line"><span class="comment">//  ToDoList</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-21.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Student</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">XYZAddToDoItemViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UITextField</span> *tf;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *setBtn;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *addObBtn;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *removeObBtn;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) Student *stu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  XYZAddToDoItemViewController.m</span></span><br><span class="line"><span class="comment">//  ToDoList</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by xjliao on 14-11-21.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014年 xjliao. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">"XYZAddToDoItemViewController.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"Student.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">XYZAddToDoItemViewController</span> (<span class="title">NSKeyValueCoding</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">XYZAddToDoItemViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> stu;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="comment">// Custom initialization</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.tf</span><span class="variable">.text</span> = <span class="keyword">self</span><span class="variable">.str</span>;</span><br><span class="line">    <span class="comment">//修改值Btn</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.setBtn</span><span class="variable">.tag</span> = <span class="number">1</span>;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.setBtn</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(setAction:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="comment">//注册观察者</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.addObBtn</span><span class="variable">.tag</span> = <span class="number">2</span>;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.addObBtn</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(setAction:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    <span class="comment">//删除观察者</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.removeObBtn</span><span class="variable">.tag</span> = <span class="number">3</span>;</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.removeObBtn</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(setAction:) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setAction:(<span class="built_in">UIButton</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (sender<span class="variable">.tag</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        	 <span class="comment">//以下3种方式都会触发通知观察者的事件</span></span><br><span class="line">            <span class="comment">//1.通知kvc赋值</span></span><br><span class="line">            <span class="comment">//[self.stu setValue:[NSString stringWithFormat:@"%@%li", self.stu.name, random()] forKey:@"name"];</span></span><br><span class="line">            <span class="comment">//2.直接赋值</span></span><br><span class="line">            <span class="keyword">self</span><span class="variable">.stu</span><span class="variable">.name</span> = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@%li"</span>, <span class="keyword">self</span><span class="variable">.stu</span><span class="variable">.name</span>, random()];</span><br><span class="line">            <span class="comment">//3.手动触发通知观察者,但真正上这个值是可以没有改变的.</span></span><br><span class="line">            <span class="comment">//[self.stu willChangeValueForKey:@"name"];</span></span><br><span class="line">            <span class="comment">//[self.stu didChangeValueForKey:@"name"];</span></span><br><span class="line">            <span class="keyword">self</span><span class="variable">.tf</span><span class="variable">.text</span> = <span class="keyword">self</span><span class="variable">.stu</span><span class="variable">.name</span>;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"已修改值"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            [<span class="keyword">self</span><span class="variable">.stu</span> addObserver:<span class="keyword">self</span> forKeyPath:<span class="string">@"name"</span> options:<span class="built_in">NSKeyValueObservingOptionOld</span></span><br><span class="line">             |<span class="built_in">NSKeyValueObservingOptionNew</span> context:<span class="literal">nil</span>];</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"已添加观察者"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            [<span class="keyword">self</span><span class="variable">.stu</span> removeObserver:<span class="keyword">self</span> forKeyPath:<span class="string">@"name"</span>];</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"已删除观察者"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"...."</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#pragma mark - Navigation</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// In a storyboard-based application, you will often want to do a little preparation before navigation</span></span><br><span class="line">- (<span class="keyword">void</span>)prepareForSegue:(<span class="built_in">UIStoryboardSegue</span> *)segue sender:(<span class="keyword">id</span>)sender</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Get the new view controller using [segue destinationViewController].</span></span><br><span class="line">    <span class="comment">// Pass the selected object to the new view controller.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)observeValueForKeyPath:(<span class="built_in">NSString</span> *)keyPath ofObject:(<span class="keyword">id</span>)object change:(<span class="built_in">NSDictionary</span> *)change context:(<span class="keyword">void</span> *)context</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"keyPath=%@"</span>, keyPath);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"change=%@"</span>, change);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/linux-wget-jdk.html">
                linux 命令行下载jdk
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-cookies --no-check-certificate --header <span class="string">"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie"</span> <span class="string">"http://download.oracle.com/otn-pub/java/jdk/7u71-b14/jdk-7u71-linux-x64.rpm"</span></span><br></pre></td></tr></table></figure>
<p>……jdk/7u71-b14/jdk-7u71-linux-x64.rpm这段地址需要根据自己的版本设置</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/linux-vpn-1.html">
                vpn 国内外智能分流
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h1 id="chnroutes">chnroutes</h1><p>利用来自<a href="http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest" target="_blank" rel="external">APNIC</a>的数据生成路由命令脚本，让VPN客户端在连接时自动执行。通过这些路由脚本，可以让用户在使用VPN作为默认网关时，不使用VPN访问中国国内IP，从而减轻VPN负担，并提高访问国内网站的速度。</p>
<h2 id="基本约定">基本约定</h2><p>在使用这些脚本之前，请确保你在自己的电脑上已经成功配置好一个VPN（PPTP或OpenVPN），并且让之以默认网关的方式运行（通常是默认配置），即VPN连接之后所有网络流量都通过VPN。</p>
<h3 id="注意事项">注意事项</h3><ul>
<li>因为这些IP数据不是固定不变的，建议每隔一个月更新一次；</li>
<li>使用此法之后，可能导致Google Music等服务无法访问，因为连上VPN之后，使用的DNS也是国外的，因此google.cn解析出的是国外的IP。</li>
</ul>
<h2 id="OpenVPN">OpenVPN</h2><p>如安装有<code>iproute2</code>软件包，请尽量使用此方式。自带方式在路由表条目较多时执行极慢。</p>
<h3 id="iproute2">iproute2</h3><ol>
<li>执行<code>python chnroutes.py</code>，这将生成<code>vpn-up.sh</code>和<code>vpn-down.sh</code>两个文件；</li>
<li>将这两个文件移入<code>/etc/openvpn/</code>；</li>
<li><p>在OpenVPN配置文件中加入：</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">script-security <span class="number">2</span></span><br><span class="line"><span class="keyword">up</span> vpn-<span class="keyword">up</span>.<span class="keyword">sh</span></span><br><span class="line">down vpn-down.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>重新连接VPN，观察日志测试。</p>
</li>
</ol>
<h3 id="自带方式">自带方式</h3><ol>
<li>执行<code>python chnroutes.py -p old</code>, 这将生成<code>routes.txt</code>文本文件；</li>
<li>将该文件内容加在OpenVPN配置文件的尾部；</li>
<li>重新连接VPN，观察日志测试。</li>
</ol>
<h2 id="PPTP">PPTP</h2><h3 id="Mac_OS_X">Mac OS X</h3><ol>
<li>在终端中执行<code>python chnroutes.py -p mac</code>，这将生成<code>ip-up</code>和<code>ip-down</code>两个文件；</li>
<li>将这两个文件移入<code>/etc/ppp/</code>；</li>
<li>重新连接VPN，观察测试。</li>
</ol>
<h3 id="Linux">Linux</h3><ol>
<li>执行<code>python chnroutes.py -p linux</code>，这将生成<code>ip-pre-up</code>和<code>ip-down</code>两个文件；</li>
<li>将<code>ip-pre-up</code>移入<code>/etc/ppp/</code>，<code>ip-down</code>移入<code>/etc/ppp/ip-down.d/</code>；</li>
<li>重新连接VPN，观察测试。</li>
</ol>
<h3 id="Windows">Windows</h3><ol>
<li>在命令提示符中执行<code>python chnroutes.py -p win</code>，这将生成<code>vpnup.bat</code>和<code>vpndown.bat</code>两个文件；</li>
<li>在拨号前手动执行<code>vpnup.bat</code>文件设置路由表；在断开VPN后，可运行<code>vpndown.bat</code>清理路由表。</li>
</ol>
<h2 id="基于Linux的第三方系统的路由器">基于Linux的第三方系统的路由器</h2><p>一些基于Linux系统的第三方路由器系统如OpenWRT、DD-WRT、Tomato都带有VPN（PPTP/OpenVPN）客户端的，也就是说，我们只需要在路由器进行VPN拨号，并利用本项目提供的路由表脚本就可以把VPN针对性翻墙扩展到整个局域网。当然，使用这个方式也是会带来副作用，即局域网的任何机器都不适合使用Emule或者BT等P2P下载软件。但对于那些不使用P2P，希望在路由器上设置针对性翻墙的用户，这方法十分有用，因为只需要一个VPN帐号，局域网内的所有机器，包括使用Wi-Fi的手机都能自动翻墙。详细配置方式请参考<a href="http://code.google.com/p/autoddvpn/" target="_blank" rel="external">Autoddvpn</a>项目。</p>
<h2 id="信息反馈">信息反馈</h2><p>本项目的脚本都是在使用路由器进行拨号的情况下测试通过的，如果在其它拨号方式下，脚本不能运作，请添加新的Issue。另外，在配合OpenVPN使用的时候，可能会出现因为网络质量不好，OpenVPN非主动断开，这时候<code>vpn-down.sh</code>脚本也会被自动调用，但重新连上之后，可能会找不到默认路由而添加失败，这时候你可以通过停止OpenVPN，并手动设置好原来的默认路由再重新进行OpenVPN拨号。</p>
<p>参考github开源项目:<a href="https://github.com/jimmyxu/chnroutes" target="_blank" rel="external">https://github.com/jimmyxu/chnroutes</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/linux-ssh-timeout.html">
                ssh连接闲置超时，被踢出， 解决方案
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="方案一：在客户端设置">方案一：在客户端设置</h2><p>在客户端电脑上编辑（需要root权限）/etc/ssh/  ssh_config，并添加如下一行:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerAliveInterval <span class="number">60</span></span><br></pre></td></tr></table></figure><br>此后该系统里的用户连接SSH时，每60秒会发一个KeepAlive请求，避免被踢。  </p>
<h2 id="方案二：在服务器端设置">方案二：在服务器端设置</h2><p>如果有相应的权限，也可以在服务器端设置，即编辑/etc/ssh/  sshd_config，并添加：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ClientAliveInterval <span class="number">300</span>  </span><br><span class="line">ClientAliveCountMax <span class="number">3</span></span><br></pre></td></tr></table></figure><br>按以上的配置的含义就是 SSH每5分钟秒向客户端发送一次心跳 ，连续发送3次没有收到客户端道应答，则断开客户端。系统默认是ClientAliveInterval为15，ClientAliveCountMax 为3，所以SSH会在45秒之后断开。<br>保存设置并重载配置文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/sshd restart</span><br></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-toast-not-show.html">
                Android toast 不显示
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>问题很简单Toast.show()不显示toast，一开始以为是UI线程问题后来检查了发现在oncreate方法里调用也不弹出toast，但其他项目能正常显示很纠结。各种方法找尽了最后定位为手机问题。后来在网友的提醒发现原来是设置里面显示通知关闭了，开启后一切正常。设置见下图</p>
<p><img src="http://xjliao.qiniudn.com/img/toast_no_show.png" alt="Alt text"></p>
<p> 参考资料:<a href="http://blog.sina.com.cn/s/blog_783ede030101hj4r.html" target="_blank" rel="external">http://blog.sina.com.cn/s/blog_783ede030101hj4r.html</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-q1.html">
                Activity stack ordering problem when launching application from Android app installer and from Home screen
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Activity stack ordering problem when launching application from Android app installer and from Home screen  </p>
<p>参考资料:<br>1.<a href="http://stackoverflow.com/questions/6356467/activity-stack-ordering-problem-when-launching-application-from-android-app-inst" target="_blank" rel="external">http://stackoverflow.com/questions/6356467/activity-stack-ordering-problem-when-launching-application-from-android-app-inst</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-issue.html">
                android issues
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Permission_is_only_granted_to_system_app">Permission is only granted to system app</h2><p>In Eclipse:</p>
<p>Window -&gt; Preferences -&gt; Android -&gt; Lint Error Checking.<br>In the list find an entry with ID = ProtectedPermission. Set the Severity to something lower than Error. This way you can still compile the project using Eclipse.</p>
<p>In Android Studio:</p>
<p>File -&gt; Settings -&gt; Inspections<br>Under Android Lint, locate Using system app permission. Either uncheck the checkbox or choose a Severity lower than Error.</p>
<p>参考:<a href="http://stackoverflow.com/questions/13801984/permission-is-only-granted-to-system-app" target="_blank" rel="external">http://stackoverflow.com/questions/13801984/permission-is-only-granted-to-system-app</a>  </p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-issue-Failed-to-initialize-Monitor-Thread.html">
                Failed to initialize Monitor Thread: Unable to establish loopback connection
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Failed_to_initialize_Monitor_Thread:_Unable_to_establish_loopback_connection">Failed to initialize Monitor Thread: Unable to establish loopback connection</h2><p>出现以下问题：<br>eclipse弹出框错误或者lang:bash报错信息如下:  </p>
<p>Failed to initialize Monitor Thread: Unable to establish loopback connection  </p>
<p>使用命令:adb devices  </p>
<ul>
<li>daemon not running. starting it now on port 5037 *<br>ADB server didn’t ACK  </li>
<li>failed to start daemon *<br>error: cannot connect to dae  </li>
</ul>
<h2 id="解决方案：">解决方案：</h2><p>关闭防火墙</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-imageview-q1.html">
                Android中 ImageView 顶部,底部出现一段空白区间, 不填充
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>1、在XML文件中设置：  </p>
<pre><code><span class="label">android:</span>adjustViewBounds=<span class="string">"true"</span>  
</code></pre><p>2、在Java代码中进行设置：  </p>
<pre><code>mImageView.setAdjustViewBounds<span class="params">(<span class="literal">true</span>)</span>;
</code></pre>
        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-error2.html">
                The Import android.support.v7 cannot be resolved
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>I tried the answer described here but it doesn´t worked for me. I have the last Android SDK tools ver. 23.0.2 and Android SDK Platform-tools ver. 20</p>
<p>The support library android-support-v4.jar cause this conflict, just delete the library under /libs folder of your project, don´t be scared, the library is already contained in the library appcompat_v7, clean and build your project, and your project will work like a charm!</p>
<p>详见资料:<br><a href="http://stackoverflow.com/questions/24998368/the-import-android-support-v7-cannot-be-resolved" target="_blank" rel="external">http://stackoverflow.com/questions/24998368/the-import-android-support-v7-cannot-be-resolved</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/10/android-error1.html">
                No resource found that matches the given name '@style/Theme.AppCompat.Light'
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Android/">Android</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>what are the steps for that? where is AppCompat located?<br>To download</p>
<p><a href="http://developer.android.com/tools/support-library/setup.html" target="_blank" rel="external">http://developer.android.com/tools/support-library/setup.html</a></p>
<p>If use eclipse</p>
<p>Goto windows android sdk manager. Under extras check Android Support Library and click install.<br><img src="http://i.stack.imgur.com/vghlq.png" alt="img"><br>enter image description here</p>
<p>After that the AppCompat Can be found at</p>
<p>android-sdk/extras/android/support/v7/appcompat<br>You need to reference this AppCompat in your android project.</p>
<p>Import the library to eclipse.</p>
<p>Right click on your android project. Goto Properties. goto andorid. Click Add Library and reference the same.</p>
<p>Clean and Rebuild your project</p>
<p>解决方案:<br><a href="http://stackoverflow.com/questions/21059612/no-resource-found-that-matches-the-given-name-style-theme-appcompat-light" target="_blank" rel="external">http://stackoverflow.com/questions/21059612/no-resource-found-that-matches-the-given-name-style-theme-appcompat-light</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/02/python-execute-shell.html">
                python执行shell命令
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-02
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Python/">Python</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="Python_执行shell命令主要有四种方式">Python 执行shell命令主要有四种方式</h2><h2 id="os-system()">os.system()</h2><p>这个函数来执行shell命令<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.system(<span class="string">'ls'</span>)</span><br></pre></td></tr></table></figure><br>这个方法得不到shell命令的输出</p>
<h2 id="popen()">popen()</h2><p>这个方法能得到命令执行后的结果是一个字符串，要自行处理才能得到想要的信息。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">str = os.popen(<span class="string">"ls"</span>).read()</span><br><span class="line">a = str.split(<span class="string">"\n"</span>)</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> a:</span><br><span class="line">	<span class="keyword">print</span> b</span><br><span class="line">这样得到的结果与第一个方法是一样的。</span><br></pre></td></tr></table></figure></p>
<h2 id="commands">commands</h2><p>可以很方便的取得命令的输出（包括标准和错误输出）和执行状态位<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> commands</span><br><span class="line">a,b = commands.getstatusoutput(<span class="string">'ls'</span>)</span><br><span class="line">a是退出状态</span><br><span class="line">b是输出的结果。</span><br><span class="line"><span class="keyword">import</span> commands</span><br><span class="line">a,b = commands.getstatusoutput(<span class="string">'ls'</span>)</span><br><span class="line"><span class="keyword">print</span> a</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="keyword">print</span> b</span><br><span class="line">anaconda-ks.cfg</span><br><span class="line">install.log</span><br><span class="line">install.log.syslog</span><br><span class="line">commands.getstatusoutput(cmd)返回（status,output)</span><br><span class="line">commands.getoutput(cmd)只返回输出结果</span><br><span class="line">commands.getstatus(file)返回ls -ld file 的执行结果字符串，调用了getoutput，不建议使用这个方法。</span><br></pre></td></tr></table></figure></p>
<h2 id="subprocess">subprocess</h2><p>使用subprocess模块可以创建新的进程，可以与新建进程的输入/输出/错误管道连通，并可以获得新建进程执行的返回状态。使用subprocess模块的目的是替代os.system()、os.popen<em>()、commands.</em>等旧的函数或模块。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="number">1</span>、</span><br><span class="line">subprocess.call(command, shell=<span class="keyword">True</span>)</span><br><span class="line">会直接打印出结果</span><br><span class="line"><span class="number">2</span>、</span><br><span class="line">subprocess.Popen(command, shell=<span class="keyword">True</span>)  </span><br><span class="line">也可以是</span><br><span class="line">subprocess.Popen(command, stdout=subprocess.PIPE, shell=<span class="keyword">True</span>&#125;</span><br></pre></td></tr></table></figure><br>这样就可以输出结果了。<br>如果command不是一个可执行文件，shell=True是不可省略的。<br>shell=True意思是shell下执行command</p>
<p>这四种方法都可以执行shell命令。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/01/linux-python-installorupdate.html">
                Linux python 安装或者升级
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Python/">Python</a>

              
              
                , 
              

            
              <a href="/categories/Python/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>在这里使用最新的2.x版本 在官网下载源码包<br>下载、解压、安装、拷贝执行文件、如果是升级的话，先备份下旧的，然后覆盖<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ python --version</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ wget https://www.python.org/ftp/python/<span class="number">2.7</span>.<span class="number">8</span>/Python-<span class="number">2.7</span>.<span class="number">8</span>.tar.xz</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ tar -Jxvf ./Python-<span class="number">2.7</span>.<span class="number">8</span>.tar.xz</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ <span class="built_in">cd</span> ./Python-<span class="number">2.7</span>.<span class="number">8</span></span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo ./configure --prefix=/usr/<span class="built_in">local</span>/python-<span class="number">2.7</span>.<span class="number">8</span>/ &amp;&amp; sudo make &amp;&amp; sudo make install</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo cp /usr/bin/python /usr/bin/python_bak</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo cp /usr/<span class="built_in">local</span>/python-<span class="number">2.7</span>.<span class="number">8</span>/bin/python /usr/bin/python</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ python --version</span><br></pre></td></tr></table></figure></p>
<p>如果是用得redhat centos之类得Linux操作系统,可能会影响到yum的使用, 需要修改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~] sudo vim /usr/bin/yum</span><br><span class="line"><span class="comment">#!/usr/bin/python2.6</span></span><br></pre></td></tr></table></figure>
<p>修改为原来的版本即可</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/01/linux-mysql-installandset.html">
                Linux Mysql yum 安装方式及配置
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              
                , 
              

            
              <a href="/categories/Linux/Mysql/">Mysql</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <h2 id="安装mysql">安装mysql</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~] sudo yum -y install mysql-server </span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~] sudo yum -y install mysql-devel</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~] sudo service mysqld start</span><br></pre></td></tr></table></figure>
<h2 id="修改root用户默认密码">修改root用户默认密码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ mysqladmin -u root password <span class="string">'root'</span></span><br></pre></td></tr></table></figure>
<h2 id="开启远程连接权限">开启远程连接权限</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ mysql -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is <span class="number">22</span></span><br><span class="line">Server version: <span class="number">5.1</span>.<span class="number">73</span> Source distribution </span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2013</span>, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> help. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; grant all privileges on *.* to root@<span class="string">'%'</span> identified by <span class="string">'1'</span>;</span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure>
<h2 id="Mysql_配置/etc/my-cnf">Mysql 配置/etc/my.cnf</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">user=mysql</span><br><span class="line"><span class="comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line">symbolic-links=<span class="number">0</span></span><br><span class="line">default-character-set = utf8 &lt;-添加这行,设置字符集</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set = utf8  &lt;-添加这行,设置字符集</span><br><span class="line">protocol=tcp &lt;-指定是什么协议, 默认是socket</span><br><span class="line"></span><br><span class="line">[mysqld_safe]</span><br><span class="line"><span class="built_in">log</span>-error=/var/<span class="built_in">log</span>/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br></pre></td></tr></table></figure>
<h2 id="设置mysql服务开机启动">设置mysql服务开机启动</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo chkconfig mysqld on</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ chkconfig --list mysqld</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo service mysqld restart</span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/01/linux-git-install.html">
                Linux git install
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ wget https://www.kernel.org/pub/software/scm/git/git-<span class="number">2.1</span>.<span class="number">2</span>.tar.xz</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ tar xJvf ./git-<span class="number">2.1</span>.<span class="number">2</span>.tar.xz</span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ <span class="built_in">cd</span> ./git-<span class="number">2.1</span>.<span class="number">2</span></span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo ./configure --prefix=/usr/<span class="built_in">local</span>/git-<span class="number">2.1</span>.<span class="number">2</span></span><br><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure>
<p>git依赖zlib-devel，openssl-devel，perl，cpio，expat-devel，gettext-devel这些包，如果出错基本上也是这些包造成的。我在安装时出现了如下错误。</p>
<p>出现错误一：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">usr/bin/perl Makefile.PL PREFIX=<span class="string">'/usr/local/git'</span> INSTALL_BASE=<span class="string">''</span> --localedir=<span class="string">'/usr/local/git/share/locale'</span></span><br><span class="line">Can<span class="string">'t locate ExtUtils/MakeMaker.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Makefile.PL line 3.</span><br><span class="line">BEGIN failed--compilation aborted at Makefile.PL line 3.</span><br><span class="line">make[1]: *** [perl.mak] Error 2</span><br><span class="line">make: *** [perl/perl.mak] Error 2</span></span><br></pre></td></tr></table></figure></p>
<p>执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install perl-ExtUtils-MakeMaker</span><br></pre></td></tr></table></figure>
<p>行进安装  </p>
<p>出现错误二：<br> /bin/sh: msgfmt: command not found<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gettext-devel</span><br></pre></td></tr></table></figure></p>
<p>可解决！</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/01/linode-linux-centos-iptables.html">
                iptables: Setting chains to policy ACCEPT: security raw nat[FAILED]filter
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Linode官方在iptables里加了一个security的规则链，但Centos不支持。<br>于是就会有以下错误    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables: Setting chains to policy ACCEPT: security raw nat[FAILED]filter</span><br></pre></td></tr></table></figure>
<p>解决方案<br>编辑/etc/init.d/iptables，找到：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in $tables; do&#10;        echo -n &#34;$i &#34;&#10;        case &#34;$i&#34; in&#10;            raw)&#10;                $IPTABLES -t raw -P PREROUTING $policy \&#10;                    &#38;&#38; $IPTABLES -t raw -P OUTPUT $policy \&#10;                    || let ret+=1&#10;                ;;</span><br></pre></td></tr></table></figure></p>
<p>加入以下内容到“case “$i” in”下面：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">security)&#10;       $IPTABLES -t filter -P INPUT $policy \&#10;           &#38;&#38; $IPTABLES -t filter -P OUTPUT $policy \&#10;           &#38;&#38; $IPTABLES -t filter -P FORWARD $policy \&#10;           || let ret+=1&#10;       ;;</span><br></pre></td></tr></table></figure>
<p>如果是用得redhat centos之类得Linux操作系统,可能会影响到yum的使用, 需要修改</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-59 ~] sudo vim /usr/bin/yum&#10;\#!/usr/bin/python2.6</span><br></pre></td></tr></table></figure>
<p>结果</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in $tables; do&#10;    echo -n &#34;$i &#34;&#10;    case &#34;$i&#34; in&#10;        security)&#10;            $IPTABLES -t filter -P INPUT $policy \&#10;                &#38;&#38; $IPTABLES -t filter -P OUTPUT $policy \&#10;                &#38;&#38; $IPTABLES -t filter -P FORWARD $policy \&#10;                || let ret+=1&#10;            ;;&#10;        raw)&#10;            $IPTABLES -t raw -P PREROUTING $policy \&#10;                &#38;&#38; $IPTABLES -t raw -P OUTPUT $policy \&#10;                || let ret+=1&#10;            ;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/10/01/linux-python-sqlite.html">
                Error loading either pysqlite2 or sqlite3 modules (tried in that order): No module named _sqlite3
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-10-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Centos/">Centos</a>

              
              
                , 
              

            
              <a href="/categories/Centos/Python/">Python</a>

              
              
                , 
              

            
              <a href="/categories/Centos/Python/Django/">Django</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>在安装或升级python之前,安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[xjliao@li539-<span class="number">59</span> ~]$ sudo yum install sqlite-devel</span><br></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/09/22/nginx-proxy-google.html">
                nginx 反向代理 google
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-09-22
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Nginx/">Nginx</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>首先你得有个国外主机,我用的虚拟主机是linode.com,服务器在日本,各方面还行,系统是centos6.5.<br>下载nginx,这里我使用的是nginx-1.6.2<br>下载地址1:<a href="http://nginx.org/download/nginx-1.6.2.tar.gz" target="_blank" rel="external">http://nginx.org/download/nginx-1.6.2.tar.gz</a><br>下载地址2:<a href="http://pan.baidu.com/s/1o62s22A" target="_blank" rel="external">http://pan.baidu.com/s/1o62s22A</a></p>
<p>在这里假设你已安装了nginx需要的包<br>这步生成ssl自制证书<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openssl genrsa -out server.key <span class="number">1024</span></span><br><span class="line">openssl req -new -key server.key -out server.csr</span><br><span class="line">openssl x509 -req -days <span class="number">365</span> -in server.csr -signkey server.key -out server.crt</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@dcn-vps-srv708 ~]<span class="comment"># tar -zxvf ./nginx-1.6.2.tar.gz</span></span><br><span class="line">[root@dcn-vps-srv708 ~]<span class="comment"># cd ./nginx-1.6.2</span></span><br><span class="line">[root@dcn-vps-srv708 ~]<span class="comment"># ./configure --with-http_sub_module --with-http_stub_status_module --with-http_ssl_module --prefix=/usr/local/nginx-1.6.2/</span></span><br><span class="line">[root@dcn-vps-srv708 ~]<span class="comment"># make &amp;&amp; sudo make install</span></span><br></pre></td></tr></table></figure>
<p>编辑nginx配置文件nginx.conf，(注意: 27.xx.xx.xx替换成域名或者IP)<br>文件下载地址<a href="http://pan.baidu.com/s/1mg5evXm" target="_blank" rel="external">http://pan.baidu.com/s/1mg5evXm</a>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#user  nobody;</span></span><br><span class="line">worker_processes  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_<span class="built_in">type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    keepalive_timeout  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    proxy_cache_path /var/nginx/cache/one  levels=<span class="number">1</span>:<span class="number">2</span>   keys_zone=one:<span class="number">10</span>m max_size=<span class="number">10</span>g;</span><br><span class="line">    proxy_cache_key <span class="string">"<span class="variable">$host</span><span class="variable">$request_uri</span>"</span>;</span><br><span class="line">    upstream google &#123;</span><br><span class="line">		server <span class="number">74.125</span>.<span class="number">235.80</span>:<span class="number">80</span> max_fails=<span class="number">3</span>;</span><br><span class="line">		server <span class="number">74.125</span>.<span class="number">235.81</span>:<span class="number">80</span> max_fails=<span class="number">3</span>;</span><br><span class="line">		server <span class="number">74.125</span>.<span class="number">235.82</span>:<span class="number">80</span> max_fails=<span class="number">3</span>;</span><br><span class="line">		server <span class="number">74.125</span>.<span class="number">235.83</span>:<span class="number">80</span> max_fails=<span class="number">3</span>;</span><br><span class="line">		server <span class="number">74.125</span>.<span class="number">235.84</span>:<span class="number">80</span> max_fails=<span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       <span class="number">80</span>;</span><br><span class="line">        server_name <span class="number">27</span>.xx.xx.xx;</span><br><span class="line">	rewrite ^(.*) https://<span class="number">27.120</span>.<span class="number">120.125</span><span class="variable">$1</span> permanent;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    server &#123;</span><br><span class="line">        listen <span class="number">443</span> ssl;</span><br><span class="line">        server_name <span class="number">27</span>.xx.xx.xx;</span><br><span class="line">        ssl_certificate /root/server.crt;</span><br><span class="line">        ssl_certificate_key /root/server.key;</span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_cache one;</span><br><span class="line">                proxy_cache_valid  <span class="number">200</span> <span class="number">302</span> <span class="number">1</span>h;</span><br><span class="line">                proxy_cache_valid  <span class="number">404</span> <span class="number">1</span>m;</span><br><span class="line">                proxy_redirect https://www.google.co.jp/ /;</span><br><span class="line">                proxy_cookie_domain google.co.jp <span class="number">27</span>.xx.xx.xx;</span><br><span class="line">                proxy_pass http://google;</span><br><span class="line">                proxy_<span class="built_in">set</span>_header Host <span class="string">"www.google.co.jp"</span>;</span><br><span class="line">                proxy_<span class="built_in">set</span>_header Accept-Encoding <span class="string">""</span>;</span><br><span class="line">                proxy_<span class="built_in">set</span>_header User-Agent <span class="variable">$http_user_agent</span>;</span><br><span class="line">                proxy_<span class="built_in">set</span>_header Accept-Language <span class="string">"zh-CN"</span>;</span><br><span class="line">                proxy_<span class="built_in">set</span>_header Cookie <span class="string">"PREF=ID=047808f19f6de346:U=0f62f33dd8549d11:FF=2:LD=zh-CN:NR=100:NW=1:TM=1325338577:LM=1332142444:GM=1:SG=2:S=rE0SyJh2w1IQ-Maw"</span>;</span><br><span class="line">                sub_filter www.google.co.jp <span class="number">27</span>.xx.xx.xx;</span><br><span class="line">                sub_filter_once off; </span><br><span class="line">	    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注释:<br>1、监听了80和443端口，可以在Linux自己生成证书。<br>2、定义了个upstream google，放了5个谷歌的ip（通过nslookup www.google.com命令获取（yum -y install bind-utils）），如果不这样做，就等着被谷歌的验证码搞崩溃吧。<br>3、也设置了反向代理缓存，某些资源不用重复去请求谷歌获取，加快搜索速度<br>4、proxy_redirect <a href="https://www.google.co.jp/" target="_blank" rel="external">https://www.google.co.jp/</a> /; 这行的作用是把谷歌服务器返回的302响应头里的域名替换成我们的，不然浏览器还是会直接请求www.google.com，那样反向代理就失效了。<br>5、proxy_cookie_domain google.co.jp 27.xx.xx.xx; 把cookie的作用域替换成我们的域名<br>6、proxy_pass <a href="http://google" target="_blank" rel="external">http://google</a>; 反向代理到upstream google<br>7、proxy_set_header Accept-Encoding “”; 防止谷歌返回压缩的内容，因为压缩的内容我们无法作域名替换<br>8、proxy_set_header Accept-Language “zh-CN”;设置语言为中文<br>9、proxy_set_header Cookie   “PREF=ID=047808f19f6de346:U=0f62f33dd8549d11:FF=2:LD=zh-CN:NW=1:TM=1325338577:LM=1332142444:GM=1:SG=2:S=rE0SyJh2w1IQ-Maw”; 这行很关键，传固定的cookie给谷歌，是为了禁止即时搜索，因为开启即时搜索无法替换内容。还有设置为新窗口打开网站，这个符合我们打开链接的习惯<br>10、sub_filter www.google.co.jp 27.xx.xx.xx当然是把谷歌的域名替换成我们的了，注意需要安装nginx的sub_filter模块(编译加上–with-http_sub_module参数)  </p>
<p>参考:<a href="http://blog.linuxeye.com/399.html" target="_blank" rel="external">http://blog.linuxeye.com/399.html</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/09/21/uilabel-underline.html">
                UILabel 下划线
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-09-21
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Ios/">Ios</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableAttributedString</span> *content = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"找回密码"</span>]];</span><br><span class="line"><span class="built_in">NSRange</span> contentRange = &#123;<span class="number">0</span>,[content length]&#125;;</span><br><span class="line">[content addAttribute:<span class="built_in">NSUnderlineStyleAttributeName</span> value:[<span class="built_in">NSNumber</span> numberWithInteger:<span class="built_in">NSUnderlineStyleSingle</span>] range:contentRange];</span><br><span class="line">findPasswordLb<span class="variable">.attributedText</span> = content;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/09/20/pod_installorupdate_slow.html">
                pod install/update 速度慢 解决方案
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-09-20
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Ios/">Ios</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>最近使用CocoaPods来添加第三方类库，无论是执行pod install还是pod update都卡在了Analyzing dependencies不动了，令人甚是DT。  </p>
<p>查了好多的资料，原因在于当执行以上两个命令的时候会升级CocoaPods的spec仓库，加一个参数可以省略这一步，然后速度就会提升不少。加参数的命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xjl:aa xjliao$ pod install --verbose --no-repo-update</span><br><span class="line">xjl:aa xjliao$ pod update --verbose --no-repo-update</span><br></pre></td></tr></table></figure>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/09/09/python-mysqldb.html">
                python mysql
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-09-09
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Python/">Python</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>下载地址<br>使用1.2.4版本<br><a href="http://pypi.python.org/pypi/MySQL-python/1.2.4" target="_blank" rel="external">http://pypi.python.org/pypi/MySQL-python/1.2.4</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xjl:MySQL-python-<span class="number">1.2</span>.<span class="number">4</span> xjliao$ python ./setup.py install</span><br></pre></td></tr></table></figure>
<p>常见错误<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EnvironmentError: /usr/<span class="built_in">local</span>/bin/mysql_config not found</span><br></pre></td></tr></table></figure></p>
<p>解决方案:<br>打开当前目录下的site.cfg, 并去掉#mysql_config = /usr/local/bin/mysql_config,<br>改为安装的mysql目录下的mysql_config,<br>我的目录:/usr/local/mysql/bin/mysql_config</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Referenced from: /Library/Python/<span class="number">2.7</span>/site-packages/MySQL_python-<span class="number">1.2</span>.<span class="number">4</span>-py2.<span class="number">7</span>-macosx-<span class="number">10.9</span>-intel.egg/_mysql.so</span><br><span class="line"> Reason: image not found</span><br></pre></td></tr></table></figure>
<p>解决方案:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln <span class="operator">-s</span> /usr/<span class="built_in">local</span>/mysql/lib/libmysqlclient.<span class="number">18</span>.dylib /usr/lib/libmysqlclient.<span class="number">18</span>.dylib</span><br></pre></td></tr></table></figure></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/09/07/vim-map.html">
                Vim mode and map
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-09-07
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Linux/">Linux</a>

              
              
                , 
              

            
              <a href="/categories/Linux/Vim/">Vim</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>Map是Vim强大的一个重要原因，可以自定义各种快捷键，用起来自然得心应手。<br>vim里最基本的map用法也就是  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:map c a</span><br></pre></td></tr></table></figure>
<p>这里把c映射成了a，在map生效的情况下，按下c就等同于按下了a<br>当然，常用的Ctrl,Shift,Alt自然也是支持的。  </p>
<p>令Ctrl+a对应到a</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:map &lt;C<span class="operator">-a</span>&gt; a</span><br></pre></td></tr></table></figure>
<p>令Alt+a对应到a</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:map &lt;A<span class="operator">-a</span>&gt; a</span><br></pre></td></tr></table></figure>
<p>令Ctrl+Alt+a对应到a<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:map &lt;C-A<span class="operator">-a</span>&gt; a</span><br></pre></td></tr></table></figure></p>
<p>到此，我们已经可以做很多事情了。<br>但是map命令远不只这一种，在不同的模式下，同一组按键可以被映射到不同的组合上。<br>Vim的模式众多，但是一般被提及的也就是这么几种:  </p>
<p>Normal Mode<br>也就是最一般的普通模式，默认进入vim之后，处于这种模式。  </p>
<p>Visual Mode<br>一般译作可视模式，在这种模式下选定一些字符、行、多列。<br>在普通模式下，可以按v进入。  </p>
<p>Insert Mode<br>插入模式，其实就是指处在编辑输入的状态。普通模式下，可以按i进入。  </p>
<p>Select Mode<br>在gvim下常用的模式，可以叫作选择模式吧。用鼠标拖选区域的时候，就进入了选择模式。<br>和可视模式不同的是，在这个模式下，选择完了高亮区域后，敲任何按键就直接输入并替换选择的文本了。<br>和windows下的编辑器选定编辑的效果一致。普通模式下，可以按gh进入。  </p>
<p>Command-Line/Ex Mode<br>就叫命令行模式和Ex模式吧。两者略有不同，普通模式下按冒号(:)进入Command-Line模式，可以输入各种命令，<br>使用vim的各种强大功能。普通模式下按Q进入Ex模式，其实就是多行的Command-Line模式。  </p>
<p>对于Map，有几个基本的概念  </p>
<p>命令的组合<br>同Vim下的其他命令一样，命令的名字往往由好几段组成。前缀作为命令本身的修饰符，微调命令的效果。<br>对于map而言，可能有这么几种前缀  </p>
<p>nore<br>表示非递归，见下面的介绍  </p>
<p>n<br>表示在普通模式下生效  </p>
<p>v<br>表示在可视模式下生效  </p>
<p>i<br>表示在插入模式下生效  </p>
<p>c<br>表示在命令行模式下生效  </p>
<p>Recursive Mapping<br>递归的映射。其实很好理解，也就是如果键a被映射成了b，c又被映射成了a，如果映射是递归的，那么c就被映射成了b。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:map a b</span><br><span class="line">:map c a</span><br></pre></td></tr></table></figure><br>对于c效果等同于<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:map c b</span><br></pre></td></tr></table></figure><br>默认的map就是递归的。如果遇到[nore]这种前缀，比如:noremap，就表示这种map是非递归的。</p>
<p>unmap<br>unmap后面跟着一个按键组合，表示删除这个映射。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:unmap c</span><br></pre></td></tr></table></figure></p>
<p>那么在map生效模式下，c不再被映射到a上。  </p>
<p>同样，unmap可以加各种前缀，表示影响到的模式。  </p>
<p>mapclear<br>mapclear直接清除相关模式下的所有映射。<br>同样，mapclear可以加各种前缀，表示影响到的模式。  </p>
<p>这里列出常用的一些map命令，默认map命令影响到普通模式和可视模式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:map :noremap :unmap :mapclear</span><br><span class="line">:nmap :nnoremap :nunmap :nmapclear</span><br><span class="line">:vmap :vnoremap :vunmap :vmapclear</span><br><span class="line">:imap :inoremap :iunmap :imapclear</span><br><span class="line">:cmap :cnoremap :cunmap :cmapclear</span><br></pre></td></tr></table></figure>
<p>可以试试这些命令  </p>
<p>命令行模式下建一个mapping<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap b a</span><br></pre></td></tr></table></figure></p>
<p>现在普通模式下，按b，可以进入插入模式，随便输入一些字符<br>命令行模式下建一个mapping<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmap b d</span><br></pre></td></tr></table></figure></p>
<p>现在普通模式下，按V，进入了可视模式，并且选定了一整行，按下b，可以删除整行<br>命令行模式下建一个mapping<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imap b a</span><br></pre></td></tr></table></figure><br>现在试着给正在编辑的这个文件输入一个字符”b”吧 :p<br>命令行模式下建一个mapping<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmap b c</span><br></pre></td></tr></table></figure><br>命令行模式下， 按下b，会出来一个a<br>好了，到此vim的按键已经被你弄得乱七八糟了，试着用unmap和mapclear清除这些mapping吧。:]</p>
<p><a href="http://haoxiang.org/2011/09/vim-modes-and-mappin/" target="_blank" rel="external">原文地址</a></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2013/08/07/objective-c-property.html">
                Objective-c @property
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on 2013-08-07
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; In
            
              <a href="/categories/Objective-c/">Objective-c</a>

              
              

            
          </span>
        

        
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>@property<br>参数<br>nonatomic 非原子操作，没有多线程情况下使用此属性，提高性能</p>
<p>atomic  默认值，原子安全操作</p>
<p>copy  复制，只能用在实现了NSCopying协议的类型上，比如推荐NSString,NSArray, NSDictonary使用此属性</p>
<p>assign 简单赋值，定义为基本数据类型、NSInteger、CGRect等</p>
<p>retain 引用计数加1</p>
<p>strong  强引用，在开启arc下和retain相似</p>
<p>weak  弱引用，在开启arc时和assign类似</p>
<p>readonly  不生成setter方法</p>
<p>readwrite  默认值 生成getter/setter方法</p>
<p>getter 设置getter方法名  getter=getInfo</p>
<p>stter 设置setter方法名  setter=setInfo:</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  
  <div class="pagination">
    <a class="extend prev" rel="prev" href="/">&laquo;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">&raquo;</a>
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="/images/avatar.png" alt="xjliao" />
          <p class="site-author-name">xjliao</p>
        </div>
        <p class="site-description motion-element">A app & golang developer guy.</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">82</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">31</span>
              <span class="site-state-item-name">categories</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">27</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/xjliao" target="_blank">GitHub</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="https://twitter.com/lxj12323" target="_blank">Twitter</a>
            </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp;  2013 - 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">xjliao</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  
  
  

  




  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
