<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[xjliao]]></title>
  <subtitle><![CDATA[xjliao]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://xjliao.me//"/>
  <updated>2017-02-24T11:00:30.000Z</updated>
  <id>http://xjliao.me//</id>
  
  <author>
    <name><![CDATA[xjliao]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Charles https]]></title>
    <link href="http://xjliao.me/2017/02/24/charles-https.html"/>
    <id>http://xjliao.me/2017/02/24/charles-https.html</id>
    <published>2017-02-23T16:00:00.000Z</published>
    <updated>2017-02-24T11:00:30.000Z</updated>
    <content type="html"><![CDATA[<p>环境:</p>
<blockquote>
<p>Charles 3.10.1、OS X 10.11.4、IOS 10.2.1</p>
</blockquote>
<h2 id="1-安装证书">1.安装证书</h2><p><img src="https://ooo.0o0.ooo/2017/02/24/58b00a5964b5a.png" alt="QQ20170224-181458@2x.png"></p>
<h2 id="2-SSL_proxy设置">2.SSL proxy设置</h2><p><img src="https://ooo.0o0.ooo/2017/02/24/58b00ceb421f3.png" alt="QQ20170224-181716@2x.png"><br><img src="https://ooo.0o0.ooo/2017/02/24/58b00cebb2e3d.png" alt="QQ20170224-181753@2x.png"></p>
<p>到此为止电脑上浏览器代理设置好后，是能代理https了，但是手机端呢？下面是手机设置</p>
<h2 id="2-手机端https代理设置">2.手机端https代理设置</h2><blockquote>
<p>手机已将Charles设置为了代理</p>
</blockquote>
<p><img src="https://ooo.0o0.ooo/2017/02/24/58b0106b330c2.png" alt="QQ20170224-183309@2x.png"><br><img src="https://ooo.0o0.ooo/2017/02/24/58b01076ac58f.png" alt="QQ20170224-181458@2x.png"></p>
<p>用Safari访问<a href="http://charlesproxy.com/getssl" target="_blank" rel="external">http://charlesproxy.com/getssl</a>下载安装证书,如果没有将Charles设置为代理将无法下载安装证书。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>环境:</p>
<blockquote>
<p>Charles 3.10.1、OS X 10.11.4、IOS 10.2.1</p>
</blockquote>
<h2 id="1-安装证书">1.安装证书</h2><p><img src="https://ooo.0o0.]]>
    </summary>
    
      <category term="Others" scheme="http://xjliao.me/tags/Others/"/>
    
      <category term="Others" scheme="http://xjliao.me/categories/Others/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hexo deploy rsync]]></title>
    <link href="http://xjliao.me/2017/02/07/hexo-rsync.html"/>
    <id>http://xjliao.me/2017/02/07/hexo-rsync.html</id>
    <published>2017-02-06T16:00:00.000Z</published>
    <updated>2017-02-06T16:43:34.000Z</updated>
    <content type="html"><![CDATA[<h2 id="First_step:_intall_rsync_on_your_server">First step: intall rsync on your server</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install rsync -y</div></pre></td></tr></table></figure>
<h2 id="Second_step:_set_the_configuration_file">Second step: set the configuration file</h2><p>Edit _config.yml<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">- <span class="built_in">type</span>: git</div><div class="line">  repo: git@github.com:xjliao/xjliao.github.io.git</div><div class="line">  branch: master</div><div class="line">- <span class="built_in">type</span>: rsync</div><div class="line">  host: 0.0.0.0</div><div class="line">  user: xjliao</div><div class="line">  root: /home/xjliao/blogserver/html</div><div class="line">  port: 22</div><div class="line">  delete: <span class="literal">true</span></div><div class="line">  verbose: <span class="literal">true</span></div><div class="line">  ignore_errors: <span class="literal">false</span></div></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="First_step:_intall_rsync_on_your_server">First step: intall rsync on your server</h2><figure class="highlight bash"><table><tr><td c]]>
    </summary>
    
      <category term="Linux" scheme="http://xjliao.me/tags/Linux/"/>
    
      <category term="Linux" scheme="http://xjliao.me/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Install Supervisor on CentOS]]></title>
    <link href="http://xjliao.me/2015/12/06/install-supervisor-on-centos.html"/>
    <id>http://xjliao.me/2015/12/06/install-supervisor-on-centos.html</id>
    <published>2015-12-06T14:30:23.000Z</published>
    <updated>2015-12-06T14:42:08.000Z</updated>
    <content type="html"><![CDATA[<p>CentOS default repository is very limited, and even if you install EPEL you will get old packages, in my case I needed to install Supervisor to manage my Django application, after trying to do it manually and through EPEL I ended up with the following setup.</p>
<h2 id="Install_Needed_Package">Install Needed Package</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo yum install python-setuptools</div><div class="line">sudo easy_install pip</div><div class="line">sudo pip install supervisor</div><div class="line">Setup Supervisor</div></pre></td></tr></table></figure>
<p>We’ve already installed “Supervisor” globally, but we need to create its configuration, luckily it comes with default config:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">echo_supervisord_conf &gt; supervisord.conf</div><div class="line">sudo cp supervisord.conf /etc/supervisord.conf</div><div class="line">sudo mkdir /etc/supervisord.d/</div><div class="line">sudo vim /etc/supervisord.conf</div><div class="line"></div><div class="line"></div><div class="line">:</div><div class="line">[include]</div><div class="line">files = /etc/supervisord.d/*.conf</div><div class="line">:</div></pre></td></tr></table></figure></p>
<p>Next we need to set “Supervisor” to run automatically every time you restart your machine, we need to create /etc/rc.d/init.d/supervisord with the following content:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/rc.d/init.d/supervisord</div><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># /etc/rc.d/init.d/supervisord</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># Supervisor is a client/server system that</span></div><div class="line"><span class="comment"># allows its users to monitor and control a</span></div><div class="line"><span class="comment"># number of processes on UNIX-like operating</span></div><div class="line"><span class="comment"># systems.</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># chkconfig: - 64 36</span></div><div class="line"><span class="comment"># description: Supervisor Server</span></div><div class="line"><span class="comment"># processname: supervisord</span></div><div class="line"></div><div class="line"><span class="comment"># Source init functions</span></div><div class="line">. /etc/rc.d/init.d/<span class="built_in">functions</span></div><div class="line"></div><div class="line">prog=<span class="string">"supervisord"</span></div><div class="line"></div><div class="line">prefix=<span class="string">"/usr/"</span></div><div class="line">exec_prefix=<span class="string">"<span class="variable">$&#123;prefix&#125;</span>"</span></div><div class="line">prog_bin=<span class="string">"<span class="variable">$&#123;exec_prefix&#125;</span>/bin/supervisord"</span></div><div class="line">PIDFILE=<span class="string">"/var/run/<span class="variable">$prog</span>.pid"</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">start</span></span>()</div><div class="line">&#123;</div><div class="line">       <span class="built_in">echo</span> -n $<span class="string">"Starting <span class="variable">$prog</span>: "</span></div><div class="line">       daemon <span class="variable">$prog_bin</span> --pidfile <span class="variable">$PIDFILE</span></div><div class="line">       [ <span class="_">-f</span> <span class="variable">$PIDFILE</span> ] &amp;&amp; success $<span class="string">"<span class="variable">$prog</span> startup"</span> || failure $<span class="string">"<span class="variable">$prog</span> startup"</span></div><div class="line">       <span class="built_in">echo</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">stop</span></span>()</div><div class="line">&#123;</div><div class="line">       <span class="built_in">echo</span> -n $<span class="string">"Shutting down <span class="variable">$prog</span>: "</span></div><div class="line">       [ <span class="_">-f</span> <span class="variable">$PIDFILE</span> ] &amp;&amp; killproc <span class="variable">$prog</span> || success $<span class="string">"<span class="variable">$prog</span> shutdown"</span></div><div class="line">       <span class="built_in">echo</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></div><div class="line"></div><div class="line"> start)</div><div class="line">   start</div><div class="line"> ;;</div><div class="line"></div><div class="line"> stop)</div><div class="line">   stop</div><div class="line"> ;;</div><div class="line"></div><div class="line"> status)</div><div class="line">       status <span class="variable">$prog</span></div><div class="line"> ;;</div><div class="line"></div><div class="line"> restart)</div><div class="line">   stop</div><div class="line">   start</div><div class="line"> ;;</div><div class="line"></div><div class="line"> *)</div><div class="line">   <span class="built_in">echo</span> <span class="string">"Usage: <span class="variable">$0</span> &#123;start|stop|restart|status&#125;"</span></div><div class="line"> ;;</div><div class="line"></div><div class="line"><span class="keyword">esac</span></div></pre></td></tr></table></figure>
<p>Then make sure CentOS knows about it:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo chmod +x /etc/rc.d/init.d/supervisord</div><div class="line">sudo chkconfig --add supervisord</div><div class="line">sudo chkconfig supervisord on</div><div class="line">sudo service supervisord start</div></pre></td></tr></table></figure>
<h2 id="Sample_Supervisor_App">Sample Supervisor App</h2><p>Here is a sample of Django App to be controlled and monitored by Supervisor, just put it:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/supervisord.conf</div><div class="line"></div><div class="line">:</div><div class="line">[program:shadowsocks-server]</div><div class="line"><span class="built_in">command</span>=/home/xjliao/goworkspace/bin/shadowsocks-server -c /etc/shadowsocks.json</div><div class="line">autostart=<span class="literal">true</span></div><div class="line">autorestart=<span class="literal">true</span></div><div class="line"></div><div class="line">[program:nginx-blogserver]</div><div class="line"><span class="built_in">command</span>=/home/xjliao/blogserver/sbin/nginx</div><div class="line">autostart=<span class="literal">true</span></div><div class="line">autorestart=<span class="literal">true</span></div><div class="line">:</div></pre></td></tr></table></figure>
<p>from:<br><a href="https://rayed.com/wordpress/?p=1496" target="_blank" rel="external">https://rayed.com/wordpress/?p=1496</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>CentOS default repository is very limited, and even if you install EPEL you will get old packages, in my case I needed to install Supervi]]>
    </summary>
    
      <category term="Linux" scheme="http://xjliao.me/tags/Linux/"/>
    
      <category term="Linux" scheme="http://xjliao.me/categories/Linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Deploy shadowsocks-goalang server]]></title>
    <link href="http://xjliao.me/2015/08/27/shadowsocks-golang-server.html"/>
    <id>http://xjliao.me/2015/08/27/shadowsocks-golang-server.html</id>
    <published>2015-08-27T03:55:49.000Z</published>
    <updated>2015-12-06T14:32:32.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Get_golang_and_set_golang_path">Get golang and set golang path</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wget https://storage.googleapis.com/golang/go1.5.1.linux-amd64.tar.gz</div><div class="line">tar -zxvf /home/xjliao/go1.5.1.linux-amd64.tar.gz</div><div class="line">mkdir /home/xjliao/goworkspace</div><div class="line">sudo vim /etc/profile</div><div class="line">go</div></pre></td></tr></table></figure>
<p>Use go cmd to test.  </p>
<p>add<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">GOROOT=<span class="variable">$HOME</span>/go</div><div class="line">GOPATH=<span class="variable">$HOME</span>/goworkspace</div><div class="line"></div><div class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$GOROOT</span>/bin</div><div class="line"></div><div class="line"><span class="built_in">export</span> GOROOT GOPATH PATH</div></pre></td></tr></table></figure></p>
<h2 id="Get_shadowsocks-goalang">Get shadowsocks-goalang</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go get github.com/shadowsocks/shadowsocks-go/cmd/shadowsocks-server</div></pre></td></tr></table></figure>
<p>And then. We can look for a execute file at $GOPATH/bin name’s shadowsocks-server.<br>Ok. We need a configuration file to run the shadowsocks-server command.<br>So….   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/shadowsocks.json</div></pre></td></tr></table></figure>
<p>add<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"server"</span>:<span class="string">"0.0.0.0"</span>,</div><div class="line">    <span class="string">"local_address"</span>: <span class="string">"127.0.0.1"</span>,</div><div class="line">    <span class="string">"local_port"</span>:1080,</div><div class="line">    <span class="string">"port_password"</span>:&#123;</div><div class="line">        <span class="string">"8383"</span>:<span class="string">"1"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="string">"timeout"</span>:600,</div><div class="line">    <span class="string">"method"</span>:<span class="string">"aes-128-cfb"</span>,</div><div class="line">    <span class="string">"fast_open"</span>: <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Execute shadowsocks-server command. if do right steps, it will run at listener your set port and work well.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/home/xjliao/goworkspace/bin/shadowsocks-server/ -c /etc/shadowsocks.json</div></pre></td></tr></table></figure></p>
<h2 id="Make_it_autostart_when_system_start_or_reboot-">Make it autostart when system start or reboot.</h2><p>Install supervisor and edit configuration file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo yum install supervisor</div><div class="line">sudo vim /etc/supervisord.conf</div><div class="line">sudo chkconfig supervisord on</div></pre></td></tr></table></figure>
<p>Add<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[program:shadowsocks-server]</div><div class="line"><span class="built_in">command</span>=/home/xjliao/goworkspace/bin/shadowsocks-server -c /etc/shadowsocks.json</div><div class="line">autostart=<span class="literal">true</span>              ; start at supervisord start (default: <span class="literal">true</span>)</div><div class="line">autorestart=<span class="literal">true</span>            ; retstart at unexpected quit (default: <span class="literal">true</span>)</div></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Get_golang_and_set_golang_path">Get golang and set golang path</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre]]>
    </summary>
    
      <category term="Linux" scheme="http://xjliao.me/tags/Linux/"/>
    
      <category term="shadowsocks" scheme="http://xjliao.me/tags/shadowsocks/"/>
    
      <category term="Linux" scheme="http://xjliao.me/categories/Linux/"/>
    
      <category term="shadowsocks" scheme="http://xjliao.me/categories/Linux/shadowsocks/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Linux yum install last stable version for nginx]]></title>
    <link href="http://xjliao.me/2015/08/27/linux-yum-install-last-stable-version-for-nginx.html"/>
    <id>http://xjliao.me/2015/08/27/linux-yum-install-last-stable-version-for-nginx.html</id>
    <published>2015-08-27T03:55:49.000Z</published>
    <updated>2015-08-27T04:04:15.000Z</updated>
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/yum.repos.d/nginx.repo</div></pre></td></tr></table></figure>
<p>Centos<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[nginx]</div><div class="line">name=nginx repo</div><div class="line">baseurl=http://nginx.org/packages/centos/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=0</div><div class="line">enabled=1</div></pre></td></tr></table></figure></p>
<p>RHEL<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[nginx]</div><div class="line">name=nginx repo</div><div class="line">baseurl=http://nginx.org/packages/rhel/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/</div><div class="line">gpgcheck=0</div><div class="line">enabled=1</div></pre></td></tr></table></figure></p>
<p>from:<br><a href="http://wiki.nginx.org/Install" target="_blank" rel="external">http://wiki.nginx.org/Install</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line]]>
    </summary>
    
      <category term="Linux" scheme="http://xjliao.me/tags/Linux/"/>
    
      <category term="Nginx" scheme="http://xjliao.me/tags/Nginx/"/>
    
      <category term="Linux" scheme="http://xjliao.me/categories/Linux/"/>
    
      <category term="Nginx" scheme="http://xjliao.me/categories/Linux/Nginx/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Linux nginx autostart scripts]]></title>
    <link href="http://xjliao.me/2015/08/10/linux-nginx-init-script-autostart.html"/>
    <id>http://xjliao.me/2015/08/10/linux-nginx-init-script-autostart.html</id>
    <published>2015-08-10T00:52:49.000Z</published>
    <updated>2015-08-10T01:15:42.000Z</updated>
    <content type="html"><![CDATA[<p>Should work on RHEL, Fedora, CentOS. Tested on CentOS 5.</p>
<p>Save this file as [/etc/init.d/nginx]</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># nginx - this script starts and stops the nginx daemon</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># chkconfig:   - 85 15 </span></div><div class="line"><span class="comment"># description:  Nginx is an HTTP(S) server, HTTP(S) reverse \</span></div><div class="line"><span class="comment">#               proxy and IMAP/POP3 proxy server</span></div><div class="line"><span class="comment"># processname: nginx</span></div><div class="line"><span class="comment"># config:      /etc/nginx/nginx.conf</span></div><div class="line"><span class="comment"># config:      /etc/sysconfig/nginx</span></div><div class="line"><span class="comment"># pidfile:     /var/run/nginx.pid</span></div><div class="line"> </div><div class="line"><span class="comment"># Source function library.</span></div><div class="line">. /etc/rc.d/init.d/<span class="built_in">functions</span></div><div class="line"> </div><div class="line"><span class="comment"># Source networking configuration.</span></div><div class="line">. /etc/sysconfig/network</div><div class="line"> </div><div class="line"><span class="comment"># Check that networking is up.</span></div><div class="line">[ <span class="string">"<span class="variable">$NETWORKING</span>"</span> = <span class="string">"no"</span> ] &amp;&amp; <span class="built_in">exit</span> 0</div><div class="line"></div><div class="line"><span class="comment"># Your nginx config </span></div><div class="line">nginx=<span class="string">"/usr/sbin/nginx"</span></div><div class="line">prog=$(basename <span class="variable">$nginx</span>)</div><div class="line"></div><div class="line"><span class="comment"># Your nginx config </span></div><div class="line">NGINX_CONF_FILE=<span class="string">"/etc/nginx/nginx.conf"</span></div><div class="line"> </div><div class="line">[ <span class="_">-f</span> /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</div><div class="line"> </div><div class="line">lockfile=/var/lock/subsys/nginx</div><div class="line"> </div><div class="line"><span class="function"><span class="title">make_dirs</span></span>() &#123;</div><div class="line">   <span class="comment"># make required directories</span></div><div class="line">   user=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">"configure arguments:"</span> | sed <span class="string">'s/[^*]*--user=\([^ ]*\).*/\1/g'</span> -`</div><div class="line">   <span class="keyword">if</span> [ -z <span class="string">"`grep <span class="variable">$user</span> /etc/passwd`"</span> ]; <span class="keyword">then</span></div><div class="line">       useradd -M <span class="_">-s</span> /bin/nologin <span class="variable">$user</span></div><div class="line">   <span class="keyword">fi</span></div><div class="line">   options=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">'configure arguments:'</span>`</div><div class="line">   <span class="keyword">for</span> opt <span class="keyword">in</span> <span class="variable">$options</span>; <span class="keyword">do</span></div><div class="line">       <span class="keyword">if</span> [ `<span class="built_in">echo</span> <span class="variable">$opt</span> | grep <span class="string">'.*-temp-path'</span>` ]; <span class="keyword">then</span></div><div class="line">           value=`<span class="built_in">echo</span> <span class="variable">$opt</span> | cut <span class="_">-d</span> <span class="string">"="</span> <span class="_">-f</span> 2`</div><div class="line">           <span class="keyword">if</span> [ ! <span class="_">-d</span> <span class="string">"<span class="variable">$value</span>"</span> ]; <span class="keyword">then</span></div><div class="line">               <span class="comment"># echo "creating" $value</span></div><div class="line">               mkdir -p <span class="variable">$value</span> &amp;&amp; chown -R <span class="variable">$user</span> <span class="variable">$value</span></div><div class="line">           <span class="keyword">fi</span></div><div class="line">       <span class="keyword">fi</span></div><div class="line">   <span class="keyword">done</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">start</span></span>() &#123;</div><div class="line">    [ -x <span class="variable">$nginx</span> ] || <span class="built_in">exit</span> 5</div><div class="line">    [ <span class="_">-f</span> <span class="variable">$NGINX_CONF_FILE</span> ] || <span class="built_in">exit</span> 6</div><div class="line">    make_dirs</div><div class="line">    <span class="built_in">echo</span> -n $<span class="string">"Starting <span class="variable">$prog</span>: "</span></div><div class="line">    daemon <span class="variable">$nginx</span> -c <span class="variable">$NGINX_CONF_FILE</span></div><div class="line">    retval=$?</div><div class="line">    <span class="built_in">echo</span></div><div class="line">    [ <span class="variable">$retval</span> <span class="_">-eq</span> 0 ] &amp;&amp; touch <span class="variable">$lockfile</span></div><div class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">stop</span></span>() &#123;</div><div class="line">    <span class="built_in">echo</span> -n $<span class="string">"Stopping <span class="variable">$prog</span>: "</span></div><div class="line">    killproc <span class="variable">$prog</span> -QUIT</div><div class="line">    retval=$?</div><div class="line">    <span class="built_in">echo</span></div><div class="line">    [ <span class="variable">$retval</span> <span class="_">-eq</span> 0 ] &amp;&amp; rm <span class="_">-f</span> <span class="variable">$lockfile</span></div><div class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">restart</span></span>() &#123;</div><div class="line">    configtest || <span class="built_in">return</span> $?</div><div class="line">    stop</div><div class="line">    sleep 1</div><div class="line">    start</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">reload</span></span>() &#123;</div><div class="line">    configtest || <span class="built_in">return</span> $?</div><div class="line">    <span class="built_in">echo</span> -n $<span class="string">"Reloading <span class="variable">$prog</span>: "</span></div><div class="line">    killproc <span class="variable">$nginx</span> -HUP</div><div class="line">    RETVAL=$?</div><div class="line">    <span class="built_in">echo</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">force_reload</span></span>() &#123;</div><div class="line">    restart</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">configtest</span></span>() &#123;</div><div class="line">  <span class="variable">$nginx</span> -t -c <span class="variable">$NGINX_CONF_FILE</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">rh_status</span></span>() &#123;</div><div class="line">    status <span class="variable">$prog</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="title">rh_status_q</span></span>() &#123;</div><div class="line">    rh_status &gt;/dev/null 2&gt;&amp;1</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></div><div class="line">    start)</div><div class="line">        rh_status_q &amp;&amp; <span class="built_in">exit</span> 0</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    stop)</div><div class="line">        rh_status_q || <span class="built_in">exit</span> 0</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    restart|configtest)</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    reload)</div><div class="line">        rh_status_q || <span class="built_in">exit</span> 7</div><div class="line">        <span class="variable">$1</span></div><div class="line">        ;;</div><div class="line">    force-reload)</div><div class="line">        force_reload</div><div class="line">        ;;</div><div class="line">    status)</div><div class="line">        rh_status</div><div class="line">        ;;</div><div class="line">    condrestart|try-restart)</div><div class="line">        rh_status_q || <span class="built_in">exit</span> 0</div><div class="line">            ;;</div><div class="line">    *)</div><div class="line">        <span class="built_in">echo</span> $<span class="string">"Usage: <span class="variable">$0</span> &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;"</span></div><div class="line">        <span class="built_in">exit</span> 2</div><div class="line"><span class="keyword">esac</span></div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo chmod +x /etc/init.d/nginx</div><div class="line">sudo chkconfig --add /etc/init.d/nginx</div><div class="line">sudo chkconfig nginx on</div></pre></td></tr></table></figure>
<p>from:<br><a href="http://wiki.nginx.org/RedHatNginxInitScript" target="_blank" rel="external">http://wiki.nginx.org/RedHatNginxInitScript</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Should work on RHEL, Fedora, CentOS. Tested on CentOS 5.</p>
<p>Save this file as [/etc/init.d/nginx]</p>
<figure class="highlight sh"><t]]>
    </summary>
    
      <category term="Linux" scheme="http://xjliao.me/tags/Linux/"/>
    
      <category term="Nginx" scheme="http://xjliao.me/tags/Nginx/"/>
    
      <category term="Linux" scheme="http://xjliao.me/categories/Linux/"/>
    
      <category term="Nginx" scheme="http://xjliao.me/categories/Linux/Nginx/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Golang 交叉编译]]></title>
    <link href="http://xjliao.me/2015/07/09/golang-cross-complie.html"/>
    <id>http://xjliao.me/2015/07/09/golang-cross-complie.html</id>
    <published>2015-07-09T06:44:32.000Z</published>
    <updated>2015-07-10T04:26:51.000Z</updated>
    <content type="html"><![CDATA[<p>在此之前假设你的Golang环境已经设置好了  </p>
<p>mac 二进制包安装golang默认可以使用linux/windows/freebsd, GOARCH为amd64的交叉编译， 386需要手动添加</p>
<h2 id=""> </h2><h2 id="准备目标平台的包和工具文件">准备目标平台的包和工具文件</h2><p>以下过程不是重新编译，安装go，而是添加对其他平台的支持。</p>
<h3 id="方式一">方式一</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/go/src</div><div class="line">$ CGO_ENABLED=0 GOOS=linux GOARCH=386 ./make.bash</div><div class="line">$ CGO_ENABLED=0 GOOS=windows GOARCH=386 ./make.bash</div><div class="line">$ CGO_ENABLED=0 GOOS=freebsd GOARCH=386 ./make.bash</div></pre></td></tr></table></figure>
<blockquote>
<p>CGO_ENABLED=0 表示交叉编译禁用cgo<br>如果go文件夹是owner为root， 请使用sudo  </p>
</blockquote>
<p>如果需要提高编译速度，加入。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./make.bash --no-clean</div></pre></td></tr></table></figure></p>
<h3 id="方式二">方式二</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install --cross-compile-all go</div></pre></td></tr></table></figure>
<p>安装完成后，我们可以看到 Go的安装目录下 多了这个平台特有的几个命令行工具。</p>
<p>各平台的GOOS和GOARCH参考 </p>
<table><br><br></table>

<p>OS                   ARCH                          OS version<br>linux                386 / amd64 / arm             &gt;= Linux 2.6<br>darwin               386 / amd64                   OS X (Snow Leopard + Lion)<br>freebsd              386 / amd64                   &gt;= FreeBSD 7<br>windows              386 / amd64                   &gt;= Windows 2000</p>
<h2 id="编译成对应平台下的执行文件">编译成对应平台下的执行文件</h2><p>到源代码目录下执行:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build</div></pre></td></tr></table></figure>
<p>不带前面参数的 go build 只是编译出开发环境适用的执行文件。</p>
<h2 id="golang-crosscompile工具">golang-crosscompile工具</h2><p>下载地址<br><a href="">github.com/davecheney/golang-crosscompile</a><br>使用方法<br><a href="">http://dave.cheney.net/2012/09/08/an-introduction-to-cross-compilation-with-go</a></p>
<h3 id="下载脚本">下载脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> git://github.com/davecheney/golang-crosscompile.git</div><div class="line">$ <span class="built_in">source</span> golang-crosscompile/crosscompile.bash</div></pre></td></tr></table></figure>
<h3 id="编译支持所有平台">编译支持所有平台</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ go-crosscompile-build-all</div></pre></td></tr></table></figure>
<p>这个时间要花个几分钟</p>
<h3 id="查看平台的包">查看平台的包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls -1 $(go env GOROOT)/pkg</div></pre></td></tr></table></figure>
<h3 id="使用交叉编译">使用交叉编译</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ go-linux-arm build</div></pre></td></tr></table></figure>
<p>要不同平台的编译，替换即可, 如:go-windows-386 build </p>
<p>为方面以后使用,将下面的加入到.bashrc或.zshrc</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mkdir ~/.golang-crosscomplie</div><div class="line">$ cp golang-crosscompile/crosscompile.bash  ~./golang-crosscomplie</div><div class="line">$ <span class="built_in">source</span> ~/.zshrc</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>在此之前假设你的Golang环境已经设置好了  </p>
<p>mac 二进制包安装golang默认可以使用linux/windows/freebsd, GOARCH为amd64的交叉编译， 386需要手动添加</p>
<h2 id=""> </h2><h2 id="准备目]]>
    </summary>
    
      <category term="Golang" scheme="http://xjliao.me/tags/Golang/"/>
    
      <category term="Golang" scheme="http://xjliao.me/categories/Golang/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Golang 快速入门 方法 接口]]></title>
    <link href="http://xjliao.me/2015/07/07/2015-7-07-golang-method-intreface.html"/>
    <id>http://xjliao.me/2015/07/07/2015-7-07-golang-method-intreface.html</id>
    <published>2015-07-07T07:10:05.000Z</published>
    <updated>2015-07-07T08:08:45.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Golang_快速入门_方法_接口">Golang 快速入门 方法 接口</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> <span class="string">"os"</span></div><div class="line"><span class="keyword">import</span> <span class="string">"time"</span></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"image"</span></div><div class="line">	<span class="string">"io"</span></div><div class="line">	<span class="string">"log"</span></div><div class="line">	<span class="string">"math"</span></div><div class="line">	<span class="string">"net/http"</span></div><div class="line">	<span class="string">"strings"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">//--- 方法</span></div><div class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</div><div class="line">	X, Y <span class="keyword">float64</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//Go 没有类。然而，仍然可以在结构体类型上定义方法。</span></div><div class="line"><span class="comment">//方法接收者 出现在 func 关键字和方法名之间的参数中。</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span> <span class="title">Abs</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">//-- 方法(续)</span></div><div class="line"><span class="comment">//你可以对包中的 任意 类型定义任意方法，而不仅仅是针对结构体。</span></div><div class="line"><span class="comment">//但是，不能对来自其他包的类型或基础类型定义方法。</span></div><div class="line"><span class="keyword">type</span> MyFloat <span class="keyword">float64</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f MyFloat)</span> <span class="title">Abs</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> f &lt; <span class="number">0</span> &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">float64</span>(-f)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">float64</span>(f)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// 接收者为指针的方法</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v *Vertex)</span> <span class="title">Scale</span><span class="params">(f <span class="keyword">float64</span>)</span></span> &#123;</div><div class="line">	v.X = v.X * f</div><div class="line">	v.Y = v.Y * f</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 接口</span></div><div class="line"><span class="comment">//接口类型是由一组方法定义的集合。</span></div><div class="line"><span class="comment">//接口类型的值可以存放实现这些方法的任何值。</span></div><div class="line"><span class="keyword">type</span> Abser <span class="keyword">interface</span> &#123;</div><div class="line">	Abs() <span class="keyword">float64</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 隐式接口</span></div><div class="line"><span class="comment">//类型通过实现那些方法来实现接口。 没有显式声明的必要；所以也就没有关键字“implements“。</span></div><div class="line"><span class="comment">//隐式接口解藕了实现接口的包和定义接口的包：互不依赖。</span></div><div class="line"><span class="comment">//因此，也就无需在每一个实现上增加新的接口名称，这样同时也鼓励了明确的接口定义。</span></div><div class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;</div><div class="line">	Read(b []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> &#123;</div><div class="line">	Write(b []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">type</span> ReadWriter <span class="keyword">interface</span> &#123;</div><div class="line">	Reader</div><div class="line">	Writer</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// Stringers 与java的toString()方法类似</span></div><div class="line"><span class="comment">// 在打印或format时生效</span></div><div class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</div><div class="line">	Name <span class="keyword">string</span></div><div class="line">	Age  <span class="keyword">int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">"%v (%v years)"</span>, p.Name, p.Age)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// 错误</span></div><div class="line"><span class="comment">// Go 程序使用 error 值来表示错误状态</span></div><div class="line"><span class="keyword">type</span> MyError <span class="keyword">struct</span> &#123;</div><div class="line">	When time.Time</div><div class="line">	What <span class="keyword">string</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *MyError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">"at %v, %v"</span>, e.When, e.What)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span> <span class="title">error</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> &amp;MyError&#123;</div><div class="line">		time.Now(),</div><div class="line">		<span class="string">"it didn't work"</span>,</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//---</span></div><div class="line"></div><div class="line"><span class="comment">// Web服务器</span></div><div class="line"><span class="keyword">type</span> Hello <span class="keyword">struct</span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Hello)</span> <span class="title">ServeHTTP</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;</div><div class="line">	fmt.Fprint(w, <span class="string">"Hello"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">//--&gt; 方法</span></div><div class="line">	v := &amp;Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">	fmt.Println(v.Abs())</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; 方法续</span></div><div class="line">	f := MyFloat(-math.Sqrt2)</div><div class="line">	fmt.Println(f.Abs())</div><div class="line">	<span class="comment">//--&gt; 接收者为指针的方法</span></div><div class="line">	v.Scale(<span class="number">5</span>)</div><div class="line">	fmt.Println(v, v.Abs())</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; 接口</span></div><div class="line">	<span class="keyword">var</span> a Abser</div><div class="line">	f1 := MyFloat(-math.Sqrt2)</div><div class="line">	v1 := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">	<span class="comment">// a MyFloat 实现了Abser</span></div><div class="line">	a = f1</div><div class="line">	<span class="comment">// a *Vertext 实现了Abser</span></div><div class="line">	a = &amp;v1</div><div class="line">	<span class="comment">// 下面一行，v1是一个 Vertex（而不是 *Vertex）</span></div><div class="line">	<span class="comment">// 所以没有实现 Abser。</span></div><div class="line">	<span class="comment">//a = v1</span></div><div class="line">	fmt.Println(a.Abs())</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;隐式接口</span></div><div class="line">	<span class="keyword">var</span> w Writer</div><div class="line">	w = os.Stdout</div><div class="line">	fmt.Fprintf(w, <span class="string">"Hello, writer\n"</span>)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;Stringers</span></div><div class="line">	p1 := Person&#123;<span class="string">"xjliao"</span>, <span class="number">25</span>&#125;</div><div class="line">	p2 := Person&#123;<span class="string">"lllou"</span>, <span class="number">25</span>&#125;</div><div class="line">	fmt.Println(p1, p2)</div><div class="line"></div><div class="line">	<span class="comment">// 错误</span></div><div class="line">	<span class="keyword">if</span> err := run(); err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// Readers</span></div><div class="line">	r := strings.NewReader(<span class="string">"Hello, Reader!"</span>)</div><div class="line">	br := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8</span>)</div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		n, err := r.Read(br)</div><div class="line">		fmt.Printf(<span class="string">"n = %v err = %v br=%v\n"</span>, n, err, br)</div><div class="line">		fmt.Printf(<span class="string">"br[:n] = %q\n"</span>, br[:n])</div><div class="line">		<span class="keyword">if</span> err == io.EOF &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; 图片</span></div><div class="line">	m := image.NewRGBA(image.Rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>))</div><div class="line">	fmt.Println(<span class="string">"m.Bounds="</span>, m.Bounds())</div><div class="line">	fmt.Println(m.At(<span class="number">0</span>, <span class="number">0</span>).RGBA)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt; Web服务器</span></div><div class="line">	<span class="keyword">var</span> h Hello</div><div class="line">	err := http.ListenAndServe(<span class="string">"localhost:4000"</span>, h)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		log.Fatal(err)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Golang_快速入门_方法_接口">Golang 快速入门 方法 接口</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>]]>
    </summary>
    
      <category term="Golang" scheme="http://xjliao.me/tags/Golang/"/>
    
      <category term="Golang" scheme="http://xjliao.me/categories/Golang/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Golang 快速入门 slice array map 函数闭包]]></title>
    <link href="http://xjliao.me/2015/07/06/2015-7-06-golang-more-types-copy.html"/>
    <id>http://xjliao.me/2015/07/06/2015-7-06-golang-more-types-copy.html</id>
    <published>2015-07-06T07:10:05.000Z</published>
    <updated>2015-07-07T08:09:32.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Golang_快速入门_slice_array_map_函数闭包">Golang 快速入门 slice array map 函数闭包</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"math"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// 结构体</span></div><div class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123;</div><div class="line">	X <span class="keyword">int</span></div><div class="line">	Y <span class="keyword">int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 字面结构体</span></div><div class="line"><span class="keyword">var</span> (</div><div class="line">	v1 = Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</div><div class="line">	v2 = Vertex&#123;X: <span class="number">1</span>&#125;</div><div class="line">	v3 = Vertex&#123;&#125;</div><div class="line">	p  = &amp;Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">var</span> pow = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// map</span></div><div class="line"><span class="keyword">type</span> Location <span class="keyword">struct</span> &#123;</div><div class="line">	Lat, Long <span class="keyword">float64</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">string</span>]Location</div><div class="line"></div><div class="line"><span class="comment">// 字面map</span></div><div class="line"><span class="keyword">var</span> mi = <span class="keyword">map</span>[<span class="keyword">string</span>]Location&#123;</div><div class="line">	<span class="string">"Bell Labs"</span>: &#123;<span class="number">34.34499</span>, <span class="number">-89.09492</span>&#125;,</div><div class="line">	<span class="string">"Google"</span>:    &#123;<span class="number">34.34123</span>, <span class="number">-123.34321</span>&#125;,</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 字面map(续)</span></div><div class="line"><span class="comment">// 如果顶级的类型只有类型名的话，可以在文法的元素中省略键名。</span></div><div class="line"><span class="comment">// 这里的类型名是指Location</span></div><div class="line"><span class="keyword">var</span> mj = <span class="keyword">map</span>[<span class="keyword">string</span>]Location&#123;</div><div class="line">	<span class="string">"Bell Labs"</span>: &#123;<span class="number">34.34499</span>, <span class="number">-89.09494</span>&#125;,</div><div class="line">	<span class="string">"Google"</span>:    &#123;<span class="number">34.34123</span>, <span class="number">-123.34321</span>&#125;,</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">//指针</span></div><div class="line">	i, j := <span class="number">42</span>, <span class="number">8000</span></div><div class="line"></div><div class="line">	p := &amp;i</div><div class="line">	fmt.Println(p)</div><div class="line">	*p = <span class="number">21</span></div><div class="line">	fmt.Println(i)</div><div class="line">	fmt.Println(p)</div><div class="line">	fmt.Println(&amp;i)</div><div class="line"></div><div class="line">	p = &amp;j</div><div class="line">	*p = *p / <span class="number">2</span></div><div class="line">	fmt.Println(j)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;结构体</span></div><div class="line">	fmt.Println(Vertex&#123;<span class="number">1</span>, <span class="number">2</span>&#125;)</div><div class="line"></div><div class="line">	<span class="comment">// 结构体字段</span></div><div class="line">	v := Vertex&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">	v.X = <span class="number">5</span></div><div class="line">	fmt.Println(v.X)</div><div class="line"></div><div class="line">	<span class="comment">// 结构体指针</span></div><div class="line">	q := &amp;v</div><div class="line">	q.X = <span class="number">1000</span></div><div class="line">	fmt.Println(v)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;字面结构体</span></div><div class="line">	fmt.Println(v1, p, v2, v3)</div><div class="line"></div><div class="line">	<span class="comment">// 数组</span></div><div class="line">	<span class="keyword">var</span> a [<span class="number">2</span>]<span class="keyword">string</span></div><div class="line">	a[<span class="number">0</span>] = <span class="string">"Hello"</span></div><div class="line">	a[<span class="number">1</span>] = <span class="string">"World"</span></div><div class="line">	fmt.Println(a[<span class="number">0</span>], a[<span class="number">1</span>])</div><div class="line">	fmt.Println(a)</div><div class="line"></div><div class="line">	<span class="comment">// 片</span></div><div class="line">	s := []<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</div><div class="line">	fmt.Println(<span class="string">"s=="</span>, s)</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</div><div class="line">		fmt.Printf(<span class="string">"s[%d] == %d\n"</span>, i, s[i])</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 对slice切片</span></div><div class="line">	<span class="comment">// 从下标1开始到4，但不包含4 fmt.Println("s[1:4] ==", s[1:4])</span></div><div class="line">	<span class="comment">// 省略下标从0开始到3，但不包含3</span></div><div class="line">	fmt.Println(<span class="string">"s[:3] =="</span>, s[:<span class="number">3</span>])</div><div class="line">	<span class="comment">// 省略上标 len(s)结束</span></div><div class="line">	fmt.Println(<span class="string">"s[4:] =="</span>, s[<span class="number">4</span>:])</div><div class="line">	<span class="comment">// 构造切片</span></div><div class="line">	a1 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">5</span>)</div><div class="line">	printSlice(<span class="string">"a1"</span>, a1)</div><div class="line">	b := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="number">5</span>)</div><div class="line">	printSlice(<span class="string">"b"</span>, b)</div><div class="line">	c := b[:<span class="number">2</span>]</div><div class="line">	printSlice(<span class="string">"c"</span>, c)</div><div class="line">	d := c[<span class="number">2</span>:<span class="number">5</span>]</div><div class="line">	printSlice(<span class="string">"d"</span>, d)</div><div class="line"></div><div class="line">	<span class="comment">// nil slice, slice 的零值是nil</span></div><div class="line">	<span class="comment">// 一个 nil 的 slice 的长度和容量是 0。</span></div><div class="line">	<span class="keyword">var</span> z []<span class="keyword">int</span></div><div class="line">	fmt.Println(z, <span class="built_in">len</span>(z), <span class="built_in">cap</span>(z))</div><div class="line">	<span class="keyword">if</span> z == <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(<span class="string">"nil!"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 像slice添加元素</span></div><div class="line">	z = <span class="built_in">append</span>(z, <span class="number">0</span>)</div><div class="line">	printSlice(<span class="string">"z"</span>, z)</div><div class="line"></div><div class="line">	z = <span class="built_in">append</span>(z, <span class="number">1</span>)</div><div class="line">	printSlice(<span class="string">"z"</span>, z)</div><div class="line"></div><div class="line">	z = <span class="built_in">append</span>(z, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</div><div class="line">	printSlice(<span class="string">"z"</span>, z)</div><div class="line"></div><div class="line">	<span class="comment">// range 范围</span></div><div class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> pow &#123;</div><div class="line">		fmt.Printf(<span class="string">"2**%d = %d\n"</span>, i, v)</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// range 范围续</span></div><div class="line">	pow1 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">10</span>)</div><div class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> pow1 &#123;</div><div class="line">		pow1[i] = <span class="number">1</span> &lt;&lt; <span class="keyword">uint</span>(i)</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 如果不适用_, 则value默认是rang的index值</span></div><div class="line">	<span class="keyword">for</span> _, vlaue := <span class="keyword">range</span> pow1 &#123;</div><div class="line">		fmt.Printf(<span class="string">"value=%d\n"</span>, vlaue)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;map</span></div><div class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]Location)</div><div class="line">	m[<span class="string">"Bell Labs"</span>] = Location&#123;</div><div class="line">		<span class="number">40.99922</span>, <span class="number">-73.94391</span>,</div><div class="line">	&#125;</div><div class="line">	fmt.Println(m[<span class="string">"Bell Labs"</span>])</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;字面map</span></div><div class="line">	fmt.Println(mi)</div><div class="line">	<span class="comment">//--&gt;字面map(续)</span></div><div class="line">	fmt.Println(mj)</div><div class="line">	<span class="comment">// 修改map</span></div><div class="line">	mk := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]Location)</div><div class="line">	mk[<span class="string">"liaoxinjian"</span>] = Location&#123;<span class="number">120.00</span>, <span class="number">-110.00</span>&#125;</div><div class="line">	mk[<span class="string">"loulihua"</span>] = Location&#123;<span class="number">120.00</span>, <span class="number">-110.00</span>&#125;</div><div class="line">	fmt.Println(<span class="string">"mk="</span>, mk)</div><div class="line">	<span class="comment">// 删除</span></div><div class="line">	<span class="built_in">delete</span>(mk, <span class="string">"loulihua"</span>)</div><div class="line">	fmt.Println(<span class="string">"loulihua.location"</span>, mk[<span class="string">"loulihua"</span>])</div><div class="line">	<span class="comment">// 通过双赋值检测某个键存在</span></div><div class="line">	v1, ok := m[<span class="string">"loulihua"</span>]</div><div class="line">	fmt.Println(<span class="string">"value="</span>, v1, <span class="string">" Present?"</span>, ok)</div><div class="line"></div><div class="line">	<span class="comment">// 函数值</span></div><div class="line">	hypot := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</div><div class="line">		<span class="keyword">return</span> math.Sqrt(x*x + y*y)</div><div class="line">	&#125;</div><div class="line">	fmt.Println(hypot(<span class="number">3</span>, <span class="number">4</span>))</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;函数的闭包</span></div><div class="line">	pos, neg := adder(), adder()</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</div><div class="line">		fmt.Println(</div><div class="line">			pos(i),</div><div class="line">			neg(<span class="number">-2</span>*i),</div><div class="line">		)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 函数的闭包</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">()</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	sum := <span class="number">0</span></div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">		sum += x</div><div class="line">		<span class="keyword">return</span> sum</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s <span class="keyword">string</span>, x []<span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	fmt.Printf(<span class="string">"%s len=%d cap=%d %v\n"</span>, s, <span class="built_in">len</span>(x), <span class="built_in">cap</span>(x), x)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Golang_快速入门_slice_array_map_函数闭包">Golang 快速入门 slice array map 函数闭包</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</]]>
    </summary>
    
      <category term="Golang" scheme="http://xjliao.me/tags/Golang/"/>
    
      <category term="Golang" scheme="http://xjliao.me/categories/Golang/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Golang 快速入门 基础 包 变量 函数]]></title>
    <link href="http://xjliao.me/2015/07/05/2015-7-05-golang-basic-package-var-constant-function-copy.html"/>
    <id>http://xjliao.me/2015/07/05/2015-7-05-golang-basic-package-var-constant-function-copy.html</id>
    <published>2015-07-05T07:10:05.000Z</published>
    <updated>2015-07-07T08:11:05.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Golang_快速入门_基础_包_变量_函数">Golang 快速入门 基础 包 变量 函数</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 包</span></div><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="comment">// 导入方式1</span></div><div class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></div><div class="line"></div><div class="line"><span class="comment">// 导入方式2</span></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"math"</span></div><div class="line">	<span class="string">"math/cmplx"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// 多值返回</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(lastname <span class="keyword">string</span>, firstname <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> firstname, lastname</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 命名返回值</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">split</span><span class="params">(sum <span class="keyword">int</span>)</span> <span class="params">(x, y, sm <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	sm = sum</div><div class="line">	x = sum * <span class="number">4</span> / <span class="number">9</span></div><div class="line">	y = sum - x</div><div class="line">	<span class="keyword">return</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 变量</span></div><div class="line"><span class="keyword">var</span> c, python, java <span class="keyword">bool</span></div><div class="line"><span class="keyword">var</span> x <span class="keyword">int</span></div><div class="line"></div><div class="line"><span class="comment">// 初始化变量</span></div><div class="line"><span class="keyword">var</span> v, u <span class="keyword">int</span> = <span class="number">2</span>, <span class="number">1</span></div><div class="line"></div><div class="line"><span class="comment">// 变量组</span></div><div class="line"><span class="keyword">var</span> (</div><div class="line">	<span class="comment">// Go 基本数据类型</span></div><div class="line">	<span class="comment">// bool, string, int, int8, int16, int32, int64,</span></div><div class="line">	<span class="comment">// uint, uint8, uint16, uint32, uint64, uintptr,</span></div><div class="line">	<span class="comment">// byte(unit8的别名), rune(int32的别名，代表一个Unicode码)</span></div><div class="line">	<span class="comment">// float32, float64</span></div><div class="line">	ToBe   <span class="keyword">bool</span>       = <span class="literal">false</span></div><div class="line">	MaxInt <span class="keyword">uint64</span>     = <span class="number">1</span>&lt;&lt;<span class="number">64</span> - <span class="number">1</span></div><div class="line">	z      <span class="keyword">complex128</span> = cmplx.Sqrt(<span class="number">-5</span> + <span class="number">12i</span>)</div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// 常量(常量不能使用 := 语法定义)</span></div><div class="line"><span class="keyword">const</span> Pi = <span class="number">3.14</span></div><div class="line"></div><div class="line"><span class="comment">//-----</span></div><div class="line"><span class="comment">//数值常量(数值常量是高精度的值)</span></div><div class="line"><span class="keyword">const</span> (</div><div class="line">	Big   = <span class="number">1</span> &lt;&lt; <span class="number">100</span></div><div class="line">	Small = Big &gt;&gt; <span class="number">99</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">needInt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> x*<span class="number">10</span> + <span class="number">1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">needFloat</span><span class="params">(x <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> x * <span class="number">0.1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//-----</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">//--&gt;多值返回&amp;命名返回值</span></div><div class="line">	lastname, firstname := swap(<span class="string">"jian"</span>, <span class="string">"liaoxin"</span>)</div><div class="line">	fmt.Println(lastname, firstname)</div><div class="line">	fmt.Println(split(<span class="number">100</span>))</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;变量</span></div><div class="line">	<span class="keyword">var</span> i <span class="keyword">int</span></div><div class="line">	<span class="keyword">var</span> y <span class="keyword">int</span></div><div class="line">	fmt.Println(i, c, python, java, x, y)</div><div class="line">	fmt.Println(v, u)</div><div class="line"></div><div class="line">	<span class="comment">// 短声明变量，只能在函数内使用，函数外的必须以关键字var, func 等等开头</span></div><div class="line">	k := <span class="number">100</span></div><div class="line">	fmt.Println(k)</div><div class="line">	<span class="comment">//--&gt;Go基本数据类型</span></div><div class="line">	fmt.Println(ToBe, MaxInt, z)</div><div class="line"></div><div class="line">	<span class="comment">//零值</span></div><div class="line">	<span class="keyword">var</span> q <span class="keyword">int</span></div><div class="line">	<span class="keyword">var</span> f <span class="keyword">float64</span></div><div class="line">	<span class="keyword">var</span> w <span class="keyword">bool</span></div><div class="line">	<span class="keyword">var</span> s <span class="keyword">string</span></div><div class="line">	fmt.Printf(<span class="string">"%v %v %v %q\n"</span>, q, f, w, s)</div><div class="line"></div><div class="line">	<span class="comment">// 类型转换</span></div><div class="line">	<span class="keyword">var</span> x, g <span class="keyword">int</span> = <span class="number">3</span>, <span class="number">4</span></div><div class="line">	<span class="keyword">var</span> r <span class="keyword">float64</span> = math.Sqrt(<span class="keyword">float64</span>(x*x + g*g))</div><div class="line">	<span class="keyword">var</span> z <span class="keyword">int</span> = <span class="keyword">int</span>(r)</div><div class="line">	fmt.Println(x, g, z)</div><div class="line"></div><div class="line">	<span class="comment">// 类型推导</span></div><div class="line">	v := <span class="number">42</span></div><div class="line">	fmt.Printf(<span class="string">"v的类型是%T\n"</span>, v)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;常量</span></div><div class="line">	<span class="keyword">const</span> World = <span class="string">"世界"</span></div><div class="line">	fmt.Println(<span class="string">"你好"</span>, World)</div><div class="line">	fmt.Println(<span class="string">"原周率Pi="</span>, Pi)</div><div class="line">	<span class="keyword">const</span> Truth = <span class="literal">true</span></div><div class="line">	fmt.Println(<span class="string">"Go rules?"</span>, Truth)</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;数值常量</span></div><div class="line">	fmt.Println(needInt(Small))</div><div class="line">	fmt.Println(needFloat(Small))</div><div class="line">	fmt.Println(needFloat(Big))</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Golang_快速入门_基础_包_变量_函数">Golang 快速入门 基础 包 变量 函数</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>/]]>
    </summary>
    
      <category term="Golang" scheme="http://xjliao.me/tags/Golang/"/>
    
      <category term="Golang" scheme="http://xjliao.me/categories/Golang/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Golang 快速入门 流程控制语句]]></title>
    <link href="http://xjliao.me/2015/07/05/2015-7-05-golang-flow-control-statements.html"/>
    <id>http://xjliao.me/2015/07/05/2015-7-05-golang-flow-control-statements.html</id>
    <published>2015-07-05T07:10:05.000Z</published>
    <updated>2015-07-07T08:09:48.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Golang_快速入门_流程控制语句">Golang 快速入门 流程控制语句</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<br>//——-依赖关系<br>//—&gt;关联关系  </p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"math"</span></div><div class="line">	<span class="string">"runtime"</span></div><div class="line">	<span class="string">"time"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sqrt</span><span class="params">(x <span class="keyword">float64</span>)</span> <span class="title">string</span></span> &#123;</div><div class="line">	<span class="comment">// if</span></div><div class="line">	<span class="keyword">if</span> x &lt; <span class="number">0</span> &#123;</div><div class="line">		<span class="keyword">return</span> sqrt(-x) + <span class="string">"i"</span></div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		fmt.Printf(<span class="string">"x &lt; 0"</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> fmt.Sprint(math.Sqrt(x))</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// if 便捷语句</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(x, n, lim <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> v := math.Pow(x, n); v &lt; lim &#123;</div><div class="line">		<span class="keyword">return</span> v</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> lim</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">// for</span></div><div class="line">	sum := <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</div><div class="line">		sum += i</div><div class="line">	&#125;</div><div class="line">	fmt.Println(sum)</div><div class="line"></div><div class="line">	<span class="comment">// for 续</span></div><div class="line">	sumb := <span class="number">1</span></div><div class="line">	<span class="keyword">for</span> sumb &lt; <span class="number">1000</span> &#123;</div><div class="line">		sumb += sumb</div><div class="line">	&#125;</div><div class="line">	fmt.Println(sumb)</div><div class="line"></div><div class="line">	<span class="comment">// while 用for表示， 所以没有while了</span></div><div class="line">	sumc := <span class="number">1</span></div><div class="line">	<span class="keyword">for</span> sumc &lt; <span class="number">1000</span> &#123;</div><div class="line">		sumc += sumc</div><div class="line">	&#125;</div><div class="line">	fmt.Println(sumc)</div><div class="line"></div><div class="line">	<span class="comment">// 无限循环 这里先注释掉， 要不然后面无法执行</span></div><div class="line">	<span class="comment">//for &#123;</span></div><div class="line">	<span class="comment">//</span></div><div class="line">	<span class="comment">//&#125;</span></div><div class="line"></div><div class="line">	<span class="comment">//--&gt;if else</span></div><div class="line">	fmt.Println(sqrt(<span class="number">2</span>))</div><div class="line"></div><div class="line">	<span class="comment">//--&gt;if 便捷语句</span></div><div class="line">	fmt.Println(pow(<span class="number">3</span>, <span class="number">2</span>, <span class="number">10</span>))</div><div class="line"></div><div class="line">	<span class="comment">// switch 当符合</span></div><div class="line">	<span class="comment">// fallthrough  这个关键字的作用和java的switch 不加break的</span></div><div class="line">	<span class="comment">// 执行顺序有上而下，匹配成功停止</span></div><div class="line">	fmt.Print(<span class="string">"Go runs on "</span>)</div><div class="line">	<span class="keyword">switch</span> os := runtime.GOOS; os &#123;</div><div class="line">	<span class="keyword">case</span> <span class="string">"linux"</span>:</div><div class="line">		fmt.Println(<span class="string">"Linux."</span>)</div><div class="line">	<span class="keyword">case</span> <span class="string">"darwin"</span>:</div><div class="line">		fmt.Println(<span class="string">"OS X"</span>)</div><div class="line">		<span class="comment">// 当进入这里时，使用fallthrough，还会执行defluat</span></div><div class="line">		<span class="keyword">fallthrough</span></div><div class="line">	<span class="keyword">default</span>:</div><div class="line">		<span class="comment">// freebsd, openbsd,</span></div><div class="line">		fmt.Println(<span class="string">"%s"</span>, os)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 没有条件的switch</span></div><div class="line">	<span class="comment">// 和 switch true &#123;</span></div><div class="line">	<span class="comment">//case:</span></div><div class="line">	<span class="comment">//default:</span></div><div class="line">	<span class="comment">//&#125;</span></div><div class="line">	<span class="comment">// 一样</span></div><div class="line">	t := time.Now()</div><div class="line">	<span class="keyword">switch</span> &#123;</div><div class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</div><div class="line">		fmt.Println(<span class="string">"Good morning."</span>)</div><div class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">17</span>:</div><div class="line">		fmt.Println(<span class="string">"Good afternoon."</span>)</div><div class="line">	<span class="keyword">default</span>:</div><div class="line">		fmt.Println(<span class="string">"Good evening."</span>)</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// defer 延迟函数的执行直到上层函数返回</span></div><div class="line">	<span class="comment">// 延迟调用的参数会立刻生成，但是在上层函数返回前函数都不会被调用</span></div><div class="line">	<span class="keyword">defer</span> World()</div><div class="line">	fmt.Println(<span class="string">"hello"</span>)</div><div class="line">	<span class="comment">// defer 栈</span></div><div class="line">	fmt.Println(<span class="string">"counting....."</span>)</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100</span>; i++ &#123;</div><div class="line">		<span class="keyword">defer</span> fmt.Println(i)</div><div class="line">	&#125;</div><div class="line">	fmt.Println(<span class="string">"done"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">World</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Println(<span class="string">"world"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Golang_快速入门_流程控制语句">Golang 快速入门 流程控制语句</h2><p>内容来自<a href="">https://tour.golang.org/</a></p>
<p>格式说明:</p>
<blockquote>
<p>// 正常注释<b]]>
    </summary>
    
      <category term="Golang" scheme="http://xjliao.me/tags/Golang/"/>
    
      <category term="Golang" scheme="http://xjliao.me/categories/Golang/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[python 替换指定文件夹内所有文件的指定内容]]></title>
    <link href="http://xjliao.me/2015/06/29/python-replace-string-in-dir-all-file.html"/>
    <id>http://xjliao.me/2015/06/29/python-replace-string-in-dir-all-file.html</id>
    <published>2015-06-29T07:10:05.000Z</published>
    <updated>2015-06-29T07:17:21.000Z</updated>
    <content type="html"><![CDATA[<p>code</p>
<figure class="highlight python"><figcaption><span>a.py</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> os.path</div><div class="line"></div><div class="line">old_str = <span class="string">"old_str"</span></div><div class="line">new_str = <span class="string">"new_str"</span></div><div class="line"></div><div class="line">inws = <span class="string">"/Users/xjliao/Desktop/tmep"</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_md</span><span class="params">(f)</span>:</span></div><div class="line">    hz_list = [<span class="string">'.md'</span>]</div><div class="line">    test_str = f.lower()</div><div class="line">    <span class="keyword">for</span> hz <span class="keyword">in</span> hz_list:</div><div class="line">        <span class="keyword">if</span> test_str.endswith(hz):</div><div class="line">            <span class="keyword">return</span>(<span class="keyword">True</span>)</div><div class="line"></div><div class="line">    <span class="keyword">return</span>(<span class="keyword">False</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">for</span> wroot, wdirs, wfiles <span class="keyword">in</span> os.walk(inws):</div><div class="line">        <span class="keyword">for</span> wfile <span class="keyword">in</span> wfiles:</div><div class="line">            infile = os.path.join(wroot, wfile)</div><div class="line">            <span class="keyword">if</span> is_md(infile) == <span class="keyword">False</span>:</div><div class="line">                <span class="keyword">continue</span></div><div class="line"></div><div class="line">            cnts=file(infile).read()</div><div class="line">            <span class="keyword">if</span> old_str <span class="keyword">in</span> cnts:</div><div class="line">                outfile = infile</div><div class="line">                fo = open(outfile, <span class="string">'w'</span>)</div><div class="line">                cnts_new = cnts.replace(old_str, new_str)</div><div class="line">                fo.write(cnts_new)</div><div class="line">                fo.close()</div><div class="line">                print(wfile)</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">        main()</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>code</p>
<figure class="highlight python"><figcaption><span>a.py</span></figcaption><table><tr><td class="gutter"><pre><div class="line">]]>
    </summary>
    
      <category term="Python" scheme="http://xjliao.me/tags/Python/"/>
    
      <category term="Python" scheme="http://xjliao.me/categories/Python/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Golang]]></title>
    <link href="http://xjliao.me/2015/06/17/golang.html"/>
    <id>http://xjliao.me/2015/06/17/golang.html</id>
    <published>2015-06-16T16:00:00.000Z</published>
    <updated>2015-06-27T16:27:25.000Z</updated>
    <content type="html"><![CDATA[<p>参考资料:  </p>
<blockquote>
<p>Golang 官网<br><a href="https://golang.org/" target="_blank" rel="external">英文</a>  <a href="https://go-zh.org/" target="_blank" rel="external">中文</a><br><a href="http://archive.miek.nl/projects/learninggo/index.html" target="_blank" rel="external">Learning Go</a><br><a href="http://jan.newmarch.name/go/" target="_blank" rel="external">Network programming with Go</a><br><a href="https://gobyexample.com" target="_blank" rel="external">Go by Example</a><br><a href="http://www.golang-book.com" target="_blank" rel="external">Programming in Go</a><br>国内社区<br><a href="golanghome.com">golanghome.com</a><br><a href="golangtc.com">golangtc.com</a><br>视频教程<br><a href="http://study.163.com/course/courseMain.htm?courseId=306002" target="_blank" rel="external">http://study.163.com/course/courseMain.htm?courseId=306002</a></p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<p>参考资料:  </p>
<blockquote>
<p>Golang 官网<br><a href="https://golang.org/" target="_blank" rel="external">英文</a>  <a href="https://go-zh.org/]]>
    </summary>
    
      <category term="Golang" scheme="http://xjliao.me/tags/Golang/"/>
    
      <category term="Golang" scheme="http://xjliao.me/categories/Golang/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Mac vim7.3 update to vim7.4]]></title>
    <link href="http://xjliao.me/2015/06/16/mac-vim73-update-vim74.html"/>
    <id>http://xjliao.me/2015/06/16/mac-vim73-update-vim74.html</id>
    <published>2015-06-15T16:00:00.000Z</published>
    <updated>2015-06-28T07:02:31.000Z</updated>
    <content type="html"><![CDATA[<p>转自:<a href="http://zhouyichu.com/vim/Vim-in-Mac.html" target="_blank" rel="external">Mac中安装Vim7.4</a></p>
<h2 id="Mac上的Vim">Mac上的Vim</h2><p>Mac本身其实是预装了Vim的，但是目前的系统中都是Vim7.3版本的，而最新的Vim已经是7.4版了，因此为了能够使用最新版的vim，必须要对Mac中的vim要么升级，要么重装。在折腾过程中，遇到了一些问题，这里记录，以鉴后人。</p>
<h2 id="可选方案">可选方案</h2><h4 id="升级原生的Vim7-3">升级原生的Vim7.3</h4><p>这种方法貌似是最”干净”的，不会引入其他任何多余的东西，对于有洁癖的人这应该是一种比较好的方案。但是，这个方案也有缺点，那就是它会覆盖原生的Vim，会改变系统的默认设置，并且一旦升级过程中出现了问题，那你就再也没有可用的vim了。另外一个问题是，以后当你系统升级的时候，很有可能你自己的vim又会被新系统的vim给覆盖，这样会比较麻烦。</p>
<h4 id="使用MacVim">使用MacVim</h4><p>这是一种比较好的方案，Vim官网上也是推荐使用这种方案的，MacVim是针对Mac系统特别定制的Vim版本，安装过程也很简单，网上一搜一大把。它功能上和vim完全一致，不会有任何的问题。要说这种方案其实已经算是一个完美的解决方案了，但是它有一点不太方便的地方，那就是不能直接在终端中使用vim，每次使用MacVim的时候都会单独开启一个窗口，有点类似于windows中的gvim。而我个人是比较习惯在终端中写代码的，因此这个方案还是不能满足我的需求。</p>
<h4 id="自己编译">自己编译</h4><p>这是一种终极的方案，但是自己编译的时候注意要手动更改默认的安装目录，不然它就会覆盖原生的vim7.3，这样就会变成第一种方案了。将vim7.4安装在其他目录，然后在.bash_profile中添加一个vim命令的别名，将其指向新安装的vim7.4的目录，而不是原生的vim7.3目录。这个方案就能在终端中直接使用vim7.4了，并且不会对原生的vim7.3又任何影响。这个方案唯一的缺点大概就是会在系统中产生两个不同版本的vim了，这也许对一些有洁癖的人是难以接受的。</p>
<p>我自己最终选择了第三套方案，也就是自己编译新版本的vim.</p>
<h4 id="重新编译">重新编译</h4><p>好了，现在让我们开始折腾吧。</p>
<p>首先上vim的官网下载vim7.4的源文件，地址是:<a href="http://www.vim.org/sources.php" target="_blank" rel="external">http://www.vim.org/sources.php</a></p>
<p>新建目录/opt/loacl，这个目录就是用来存放我们新安装的vim7.4的，你也可以建立其他的目录，这里只是一个示例。</p>
<p>进入vim的源文件目录中，在终端中运行命令:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./configure --with-features=huge --enable-pythoninterp=yes  --enable-cscope --enable-fontset --enable-perlinterp --enable-rubyinterp --with-python-config-dir=/usr/lib/python2.6/config --prefix=/opt/<span class="built_in">local</span></div></pre></td></tr></table></figure><br>这个命令是完成对vim的一些配置选项，启用了python和ruby的支持特性，这还是比较重要的，因为vim中有些插件会使用python和ruby的，如果没有开启这些特性，有些插件是无法运行的。在这些配置命令中，最后一个—prefix=/opt/local是用来指明安装目录的，你也可以修改成你自己的目录。</p>
<p>在写配置命令的时候，需要注意的是，不能写上—enable-gui，这是开启gui特性的，但是我们是在终端环境下安装的，因此不能开启这个特性，否则会出现编译错误。</p>
<p>在终端中执行make命令.在make过程中，会出现一个错误，如下所示:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">:info:build os_unix.c:830:46: warning: declaration of <span class="string">'struct sigaltstack'</span> will not be visible outside of this <span class="keyword">function</span> [-Wvisibility]</div><div class="line">:info:build         extern int sigaltstack __ARGS((const struct sigaltstack *ss, struct sigaltstack *oss));</div><div class="line">:info:build                                                     ^</div><div class="line">:info:build ./os_unix.h:88:21: note: expanded from macro <span class="string">'__ARGS'</span></div><div class="line">:info:build <span class="comment">#  define __ARGS(x) x</span></div><div class="line">:info:build                     ^</div><div class="line">:info:build os_unix.c:830:13: error: conflicting types <span class="keyword">for</span> <span class="string">'sigaltstack'</span></div><div class="line">:info:build         extern int sigaltstack __ARGS((const struct sigaltstack *ss, struct sigaltstack *oss));</div><div class="line">:info:build                    ^</div><div class="line">:info:build /usr/include/signal.h:89:5: note: previous declaration is here</div><div class="line">:info:build int     sigaltstack(const stack_t * __restrict, stack_t * __restrict)  __DARWIN_ALIAS(sigaltstack);</div><div class="line">:info:build         ^</div><div class="line">:info:build 1 warning and 1 error generated.</div><div class="line">:info:build make[1]: *** [objects/os_unix.o] Error 1</div><div class="line">:info:build make[1]: *** Waiting <span class="keyword">for</span> unfinished <span class="built_in">jobs</span>….)</div></pre></td></tr></table></figure><br>解决方案也很简单，只需要在os_unix.h中加上#include <availabilitymacros.h>就可以了。</availabilitymacros.h></p>
<p>执行make install.执行完成之后，vim7.4就安装完成了。</p>
<p>添加vim命令的别名，在.bash_profile中添加一行alias vim=’/opt/local/bin/vim’，然后在终端中执行source ~/.bash_profile</p>
<p>好了，现在你的Mac系统已经安装好了vim7.4了，现在可以开始愉快的工作了。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>转自:<a href="http://zhouyichu.com/vim/Vim-in-Mac.html" target="_blank" rel="external">Mac中安装Vim7.4</a></p>
<h2 id="Mac上的Vim">Mac上的Vim</h2>]]>
    </summary>
    
      <category term="Vim" scheme="http://xjliao.me/tags/Vim/"/>
    
      <category term="Mac" scheme="http://xjliao.me/tags/Mac/"/>
    
      <category term="Mac" scheme="http://xjliao.me/categories/Mac/"/>
    
      <category term="Vim" scheme="http://xjliao.me/categories/Mac/Vim/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Cordova 初步脚手架]]></title>
    <link href="http://xjliao.me/2015/03/24/cordova-frame-helloworld.html"/>
    <id>http://xjliao.me/2015/03/24/cordova-frame-helloworld.html</id>
    <published>2015-03-23T16:00:00.000Z</published>
    <updated>2015-04-24T05:11:27.000Z</updated>
    <content type="html"><![CDATA[<h2 id="官方教程">官方教程</h2><p><a href="http://cordova.apache.org/docs/en/4.0.0/guide_platforms_ios_webview.md.html#iOS%20WebViews" target="_blank" rel="external">http://cordova.apache.org/docs/en/4.0.0/guide_platforms_ios_webview.md.html#iOS%20WebViews</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="官方教程">官方教程</h2><p><a href="http://cordova.apache.org/docs/en/4.0.0/guide_platforms_ios_webview.md.html#iOS%20WebViews" target="_blan]]>
    </summary>
    
      <category term="Cordova" scheme="http://xjliao.me/tags/Cordova/"/>
    
      <category term="Cordova" scheme="http://xjliao.me/categories/Cordova/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Cordova debugging]]></title>
    <link href="http://xjliao.me/2015/03/23/cordova-remote-debug.html"/>
    <id>http://xjliao.me/2015/03/23/cordova-remote-debug.html</id>
    <published>2015-03-22T16:00:00.000Z</published>
    <updated>2015-06-28T04:55:38.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Cordova_debugging">Cordova debugging</h2><p>Debugging your Application</p>
<p>With the desktop browser, you can leverage the browser’s debugging tools. In a WebKit browser, you can open WebInspector to inspect the DOM and debug JavaScript. Most other browsers have an equivalent debugging tool.</p>
<p>Additional Tools</p>
<p>PhoneGap Emulator uses Ripple to emulate the PhoneGap API.<br>Ripple Emulator emulates the PhoneGap API.<br>ScreenQueri.es to preview exact device screen sizes.<br>thumbs.js is a TouchEvent polyfill.<br>PhoneGap Desktop is a mocking library for the PhoneGap API.</p>
<h2 id="Remote_Web_Inspector">Remote Web Inspector</h2><p>After you’ve developed the first stage of your application with your desktop browser, you will want to test it on a mobile device. The main hurdle with testing on a mobile device is that you will not have access to WebInspector. This is where a remote web inspector steps in.</p>
<h2 id="Safari_Remote_Debugging">Safari Remote Debugging</h2><p>If you are doing iOS PhoneGap debugging and have the Safari Develop Menu enabled, you can access the currently active session through the built-in Safari Web Inspector. To activate, go to Develop -&gt; (iPad || iPhone) Simulator (normally, the third menu item) and click the active session you want to connect to. Voila!</p>
<h2 id="Chrome_Remote_Debugging">Chrome Remote Debugging</h2><p>If you are doing Android PhoneGap debugging and have an Android 4.4 device and Chrome 30+, you can use the new WebView Debugging tools added in Android 4.4. If you are using Cordova 3.3 or higher, this is already supported, and only requires the Debuggable flag in your AndroidManifest.xml. For Cordova 3.2, you will need to enable WebView debugging using some code, or by use of a plugin.</p>
<h2 id="GapDebug">GapDebug</h2><p>A complete iOS and Android debugging experience for PhoneGap and Cordova apps, debug on both Windows and Mac platforms. Automated plug-and-go debugging with no requirement to build debug support into your app. GapDebug integrated versions of the Safari Webkit Inspector for iOS debugging and Chrome Dev Tools for Android debugging. GapDebug is maintained by Genuitec and is a always free tool.</p>
<p>Try GapDebug here.</p>
<h2 id="Weinre">Weinre</h2><p>Weinre is a remote WebInspector that will debug any browser remotely. It is not quite a full-fledged debugger, but gives you a live view of the DOM and access to the JavaScript lang:bash. Unfortunately, no breakpoints or stack traces are available, but the JavaScript lang:bash can lend clues about errors.</p>
<p>You can run Weinre locally or use debug.phonegap.com.</p>
<p>WebKit’s Remote Web Inspector</p>
<p>WebKit has the ability to connect it’s WebInspector to remote WebKit browsers, although few mobile platform support this feature.</p>
<p>BlackBerry supports Remote Web Inspector<br>iOS has unofficial support for Remote Web Inspector<br>jsHybugger</p>
<p>jsHybugger is a (commercially available) tool that lets you debug PhoneGap apps on Android using Chrome DevTools. A plugin for PhoneGap 3.x and library for PhoneGap 2.x is available. Install jsHybugger from GitHub with the following command. This adds the plugin to your PhoneGap 3.x application.</p>
<p>phonegap local plugin add <a href="https://github.com/jsHybugger/cordova-plugin-jshybugger.git" target="_blank" rel="external">https://github.com/jsHybugger/cordova-plugin-jshybugger.git</a><br>After installing and starting the app on the device, you can use Chrome DevTools on a desktop machine to debug the app.</p>
<p>Example workflow</p>
<p>phonegap create <name-of-project><br>cd <name-of-project><br>phonegap local plugin add <a href="https://github.com/jsHybugger/cordova-plugin-jshybugger.git" target="_blank" rel="external">https://github.com/jsHybugger/cordova-plugin-jshybugger.git</a><br>phonegap build android<br>phonegap run android —device<br>See the jsHybugger home page for details.</name-of-project></name-of-project></p>
<p>Additional Debugging Resources</p>
<p>JSBin</p>
<h2 id="Log_Messages">Log Messages</h2><p>When all else fails, you can always use lang:bash.log(‘…’); or alert(‘…’); to mobile web application. I know it’s not pretty, but it can help when you’re in a jam.</p>
<p>Advanced log message handling can be found on Exception Log Handling.</p>
<p>Android</p>
<p>On Android, all lang:bash.log(‘…’); messages will appear as printouts in the command-line tool logcat, which is bundled with the Android SDK and integrated into the Android Eclipse plugin.</p>
<p>BlackBerry</p>
<p>On BlackBerry, all lang:bash.log(‘…’); are printed to the BlackBerry’s Event Log. The Event Log can be accessed by pressing ALT + LGLG.</p>
<p>iOS</p>
<p>On iOS, all lang:bash.log(‘…’); are output to the Xcode Debug Area lang:bash.</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Cordova_debugging">Cordova debugging</h2><p>Debugging your Application</p>
<p>With the desktop browser, you can leverage the browser]]>
    </summary>
    
      <category term="Cordova" scheme="http://xjliao.me/tags/Cordova/"/>
    
      <category term="Cordova" scheme="http://xjliao.me/categories/Cordova/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Enable the Safari debug menu  Web Browsers]]></title>
    <link href="http://xjliao.me/2015/03/23/safari-develop.html"/>
    <id>http://xjliao.me/2015/03/23/safari-develop.html</id>
    <published>2015-03-22T16:00:00.000Z</published>
    <updated>2015-04-24T05:11:27.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Enable_the_Safari_debug_menu_Web_Browsers">Enable the Safari debug menu  Web Browsers</h2><p>While I look around Safari binary code, I found there is a hidden Debug menu. Type the following command in Terminal (while Safari is NOT running):<br> % defaults write com.apple.Safari IncludeDebugMenu 1<br>Then launch Safari, and enjoy the new Debug menu. </p>
<p>[Editor’s note: The debug menu has some useful options on it, so you may find this a very useful hack. If you ever wish to disable it again, just repeat the command with a “0” instead of a “1”.]</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Enable_the_Safari_debug_menu_Web_Browsers">Enable the Safari debug menu  Web Browsers</h2><p>While I look around Safari binary code,]]>
    </summary>
    
      <category term="Safari" scheme="http://xjliao.me/tags/Safari/"/>
    
      <category term="Safari" scheme="http://xjliao.me/categories/Safari/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[玩 Raspberry]]></title>
    <link href="http://xjliao.me/2014/10/11/raspberrypi.html"/>
    <id>http://xjliao.me/2014/10/11/raspberrypi.html</id>
    <published>2014-10-10T16:00:00.000Z</published>
    <updated>2015-06-28T07:38:36.000Z</updated>
    <content type="html"><![CDATA[<p>官网:<a href="http://www.raspberrypi.org/" target="_blank" rel="external">http://www.raspberrypi.org/</a></p>
<h2 id="安装">安装</h2><p>下载地址:<a href="http://www.raspberrypi.org/downloads/" target="_blank" rel="external">http://www.raspberrypi.org/downloads/</a><br>推荐下载RASPBIAN版本<br>zip文件下载:<a href="http://downloads.raspberrypi.org/raspbian_latest" target="_blank" rel="external">http://downloads.raspberrypi.org/raspbian_latest</a><br>种子下载:<a href="http://downloads.raspberrypi.org/" target="_blank" rel="external">http://downloads.raspberrypi.org/</a></p>
<p>需要一个大一点的内存卡(8G以上最好,分区格式为fat32)<br>假如你的内存卡电脑已被识别<br>(在mac上)</p>
<h3 id="查看设备:">查看设备:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diskutil list</div></pre></td></tr></table></figure>
<p>记住设备号,下面的例子假设查看得到的设备为:disk1  </p>
<h3 id="卸载设备">卸载设备</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diskutil unmountDisk /dev/disk1</div></pre></td></tr></table></figure>
<h3 id="刻入镜像">刻入镜像</h3><p><code>`bash
sudo dd bs=4m if=2014-09-09-wheezy-raspbian.img of=/dev/risk1(这里第disk1替换为rdisk1原始设备号,刻录速度会更快)</code></p>
<p>等一会吧 刻录完成会有提示信息</p>
<h2 id="连接">连接</h2><p>在这里首页你要得有跟网线连接上路由了,而且路由设置了dhcp </p>
<p>ssh默认开启,这里通过ssh连接上系统.<br>账号:pi   密码:raspberry</p>
<p>ip查看这里可以通过进入路由器查看dhcp列表,会有一台叫raspberrypi的机器,对应的ip就是了.这样我们就可以连接上了<br>反正不管你用啥办法,都要搞到ip</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>官网:<a href="http://www.raspberrypi.org/" target="_blank" rel="external">http://www.raspberrypi.org/</a></p>
<h2 id="安装">安装</h2><p>下载地址:<a]]>
    </summary>
    
      <category term="Raspberry" scheme="http://xjliao.me/tags/Raspberry/"/>
    
      <category term="Raspberry" scheme="http://xjliao.me/categories/Raspberry/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Git 常用命令]]></title>
    <link href="http://xjliao.me/2013/10/11/git.html"/>
    <id>http://xjliao.me/2013/10/11/git.html</id>
    <published>2013-10-10T16:00:00.000Z</published>
    <updated>2015-06-28T10:57:37.000Z</updated>
    <content type="html"><![CDATA[<h2 id="git_book">git book</h2><p><a href="http://git-scm.com/book/zh/v1" target="_blank" rel="external">http://git-scm.com/book/zh/v1</a>  </p>
<p>需求:在服务器上创建一个项目版本库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//在服务器上创建一个裸仓库</div><div class="line">git init --bare --shared project.git</div><div class="line"></div><div class="line">//初始化本地, 加入版本控制</div><div class="line">git init</div><div class="line">//添加刚刚创建的服务器地址, 使用的ssh命令, 需要在服务器上创建git账户, 推送需要输入git密码,或者将本地公钥上传到服务器git账户下的~/.ssh/authorized_keys授权文件里面,实现无密码提交</div><div class="line">git remote add origin  git@gitserver:/home/git/project.git</div><div class="line">//加入添加/修改文件</div><div class="line">git add -A</div><div class="line">//本地提交</div><div class="line">git commit -m <span class="string">'init'</span></div><div class="line">//推送到服务器</div><div class="line">git push origin master</div></pre></td></tr></table></figure>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="git_book">git book</h2><p><a href="http://git-scm.com/book/zh/v1" target="_blank" rel="external">http://git-scm.com/book/zh/v1</a>  ]]>
    </summary>
    
      <category term="Git" scheme="http://xjliao.me/tags/Git/"/>
    
      <category term="Git" scheme="http://xjliao.me/categories/Git/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Mac os 技巧]]></title>
    <link href="http://xjliao.me/2013/10/11/mac-tech.html"/>
    <id>http://xjliao.me/2013/10/11/mac-tech.html</id>
    <published>2013-10-10T16:00:00.000Z</published>
    <updated>2015-06-29T01:18:46.000Z</updated>
    <content type="html"><![CDATA[<h2 id="显示或隐藏文件">显示或隐藏文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">显示：defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">true</span></div><div class="line">隐藏：defaults write com.apple.finder AppleShowAllFiles -bool <span class="literal">false</span></div></pre></td></tr></table></figure>
<h2 id="禁用或启用自动生成-DS_STORE文件">禁用或启用自动生成.DS_STORE文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">禁止.DS_store生成：defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE</div><div class="line">恢复.DS_store生成：defaults delete com.apple.desktopservices DSDontWriteNetworkStores</div></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="显示或隐藏文件">显示或隐藏文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2<]]>
    </summary>
    
      <category term="Mac" scheme="http://xjliao.me/tags/Mac/"/>
    
      <category term="Mac" scheme="http://xjliao.me/categories/Mac/"/>
    
  </entry>
  
</feed>